webpackJsonp([1],{"/8fb":function(t,e){},0:function(t,e){},"6VUo":function(t,e){},"9U0N":function(t,e){},K5tM:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("mvHQ"),r=a.n(i),n=new s.default,o="/server/api/",l={user:{authenticated:!1,token:null,id:null,login:null},login:function(t,e,a){var s=this;t.$http.post(o+"users/tokens",e).then(function(e){s.handleToken(e.body),n.$emit("user-logged",s.user),a?t.$router.replace(a):t.$router.replace({name:"home"})},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText})},logout:function(){return localStorage.removeItem("user"),this.user.authenticated=!1,delete s.default.http.headers.common.Authorization,this.user={},this.user},getAuthHeader:function(){var t=this.getToken();return t?"Bearer "+t:null},populate:function(t){if(t){this.user.token=t.token,this.user.id=t.id,this.user.login=t.login,this.user.mail=t.mail;var e={};t.scope&&t.scope.split(" ").forEach(function(t){e[t]=!0}),this.user.scope=e,this.user.exp=t.exp,this.user.authenticated=t.exp>Math.floor(Date.now()/1e3)}},handleToken:function(t){if(!t||!t.token)return!1;var e=t.token.split(".");if(3!==e.length)return!1;try{var a=JSON.parse(atob(e[1]));return a.token=t.token,a.id=a.sub,delete a.sub,localStorage.setItem("user",r()(a)),this.populate(a),s.default.http.headers.common.Authorization=this.getAuthHeader(),!0}catch(t){return console.error(t),!1}},getProfile:function(){return!!this.getToken()&&JSON.parse(r()(this.user))},getToken:function(){try{var t=JSON.parse(localStorage.getItem("user"));return this.populate(t),this.user.token}catch(t){return console.error(t),!1}}},c={name:"app",data:function(){return{user:l.getProfile()}},methods:{logout:function(){this.user=l.logout(),this.$router.replace({name:"login"})},toggleMenu:function(t){t.target.classList.toggle("is-active"),document.getElementById("navbar-menu").classList.toggle("is-active")}},mounted:function(){var t=this;n.$on("user-logged",function(e){t.user=e})}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.user.authenticated?a("nav",{staticClass:"navbar is-dark is-fixed-top"},[a("div",{staticClass:"navbar-brand"},[a("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[a("img",{attrs:{src:"static/icon-whitesmoke.svg"}}),t._v(" OwnMyMoney")]),t._v(" "),a("a",{staticClass:"navbar-burger",attrs:{role:"button",id:"navbar-burger","aria-label":"menu","aria-expanded":"false"},on:{click:t.toggleMenu}},[a("span",{staticClass:"is-primary",attrs:{"aria-hidden":"true"}}),t._v(" "),a("span",{attrs:{"aria-hidden":"true"}}),t._v(" "),a("span",{attrs:{"aria-hidden":"true"}})])],1),t._v(" "),a("div",{staticClass:"navbar-menu",attrs:{id:"navbar-menu"}},[a("div",{staticClass:"navbar-start"},[a("router-link",{staticClass:"navbar-item",attrs:{to:"/accounts"}},[a("i",{staticClass:"fa fa-table fa-fw"}),t._v(" Accounts")])],1),t._v(" "),a("div",{staticClass:"navbar-end"},[this.user.scope.admin?a("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[t._m(0),t._v(" "),a("div",{staticClass:"navbar-dropdown is-right"},[a("router-link",{staticClass:"navbar-item",attrs:{to:"/categories"}},[a("i",{staticClass:"fa fa-folder-open-o fa-fw"}),t._v(" Categories")]),t._v(" "),a("router-link",{staticClass:"navbar-item",attrs:{to:"/maps"}},[a("i",{staticClass:"fa fa-random fa-fw"}),t._v(" Transaction mapping")]),t._v(" "),a("router-link",{staticClass:"navbar-item",attrs:{to:"/users"}},[a("i",{staticClass:"fa fa-users fa-fw"}),t._v(" Users")])],1)]):t._e(),t._v(" "),a("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[a("a",{staticClass:"navbar-link"},[a("i",{staticClass:"fa fa-user fa-fw"}),t._v(" "+t._s(this.user.login))]),t._v(" "),a("div",{staticClass:"navbar-dropdown is-right"},[a("router-link",{staticClass:"navbar-item",attrs:{to:"/profile"}},[a("i",{staticClass:"fa fa-user-circle fa-fw"}),t._v(" Profile")]),t._v(" "),a("router-link",{staticClass:"navbar-item",attrs:{to:"/patterns"}},[a("i",{staticClass:"fa fa-magic fa-fw"}),t._v(" Patterns")]),t._v(" "),a("hr",{staticClass:"navbar-divider"}),t._v(" "),a("router-link",{staticClass:"navbar-item",attrs:{to:"/about"}},[a("i",{staticClass:"fa fa-info-circle fa-fw"}),t._v(" About")]),t._v(" "),t._m(1),t._v(" "),a("hr",{staticClass:"navbar-divider"}),t._v(" "),a("a",{staticClass:"navbar-item",on:{click:function(e){t.logout()}}},[a("i",{staticClass:"fa fa-sign-out fa-fw"}),t._v(" Logout")])],1)])])])]):t._e(),t._v(" "),a("router-view",{key:t.$route.fullPath})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"navbar-link"},[e("i",{staticClass:"fa fa-wrench fa-fw"}),this._v(" System settings")])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"navbar-item",attrs:{href:"https://github.com/nioc/own-my-money/issues/new",target:"_blank"}},[e("i",{staticClass:"fa fa-bug fa-fw"}),this._v(" Report a bug")])}]},u=a("VU/8")(c,d,!1,null,null,null).exports,v=a("/ocq"),m={props:{items:{type:Array,required:!0}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box is-radiusless has-background-white-bis"},[a("nav",{staticClass:"breadcrumb container",attrs:{"aria-label":"breadcrumbs"}},[a("ul",t._l(t.items,function(e){return a("li",{key:e.text,class:{"is-active":e.isActive}},[a("router-link",{attrs:{to:e.link}},[e.icon?a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fa",class:e.icon,attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),a("span",{class:{"is-hidden-mobile":e.icon}},[t._v(t._s(e.text))])])],1)}))])])},staticRenderFns:[]};var h=a("VU/8")(m,p,!1,function(t){a("RgOD")},null,null).exports,f={data:function(){return{account:{},error:"",isLoading:!1,rAccounts:this.$resource(o+"accounts{/id}")}},methods:{validateBeforeSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.isLoading=!0,t.rAccounts.save(t.account).then(function(e){t.$parent.$parent.getAccounts(),t.$parent.close()},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1}))})}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"modal-card"},[t._m(0),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Bank identifier")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.bankId,expression:"account.bankId"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("bankId")},attrs:{type:"text",name:"bankId",placeholder:"Bank Id","data-vv-as":"bank id"},domProps:{value:t.account.bankId},on:{input:function(e){e.target.composing||t.$set(t.account,"bankId",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("bankId"),expression:"errors.has('bankId')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("bankId")))])])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Branch identifier")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.branchId,expression:"account.branchId"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("BranchId")},attrs:{type:"text",name:"BranchId",placeholder:"Branch Id","data-vv-as":"branch id"},domProps:{value:t.account.branchId},on:{input:function(e){e.target.composing||t.$set(t.account,"branchId",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("BranchId"),expression:"errors.has('BranchId')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("BranchId")))])])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Account identifier")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.accountId,expression:"account.accountId"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("AccountId")},attrs:{type:"text",name:"AccountId",placeholder:"Account Id","data-vv-as":"account id"},domProps:{value:t.account.accountId},on:{input:function(e){e.target.composing||t.$set(t.account,"accountId",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("AccountId"),expression:"errors.has('AccountId')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("AccountId")))])])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Label")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.label,expression:"account.label"},{name:"validate",rawName:"v-validate",value:"max:30",expression:"'max:30'"}],staticClass:"input",class:{"is-danger":t.errors.has("label")},attrs:{type:"text",name:"label",placeholder:"Label of your choice"},domProps:{value:t.account.label},on:{input:function(e){e.target.composing||t.$set(t.account,"label",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("label")))])])]),t._v(" "),t.error?a("div",{staticClass:"message is-danger block"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e()]),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-primary"},[t._v("Create")]),t._v(" "),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v("Cancel")])]),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[this._v("New account")])])}]},b={name:"accounts",components:{Breadcrumb:h,CreateAccount:a("VU/8")(f,g,!1,null,null,null).exports},data:function(){return{accounts:[],error:"",isCreateAccountModalActive:!1,isLoading:!1,upload:{file:null,isUploading:!1,result:""},rAccounts:this.$resource(o+"accounts{/id}"),rDatasets:this.$resource(o+"dataset")}},methods:{getAccounts:function(){var t=this;this.isLoading=!0,this.rAccounts.query().then(function(e){t.accounts=e.body},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})},uploadDataset:function(){var t=this;this.upload.result="";var e=this.upload.file,a=new FormData;a.append("Content-Type",e.type||"application/octet-stream"),a.append("file",e),e.size>8e7?this.upload.result="File too big":(this.upload.isUploading=!0,this.isLoading=!0,this.rDatasets.save({},a).then(function(e){e.body.message&&(t.upload.result=e.body.message),t.getAccounts()},function(e){e.body.message?t.upload.result=e.body.message:t.upload.result=e.status+" - "+e.statusText}).finally(function(){this.upload.isUploading=!1,this.isLoading=!1}))}},mounted:function(){this.getAccounts()}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:"Home"},{link:"/accounts",icon:"fa-table",text:"Accounts",isActive:!0}]}})],1),t._v(" "),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v("Accounts")]),t._v(" "),t.error?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e(),t._v(" "),t.accounts.length?a("div",{staticClass:"table-container"},[a("table",{staticClass:"table is-striped is-hoverable is-fullwidth"},[t._m(0),t._v(" "),a("tbody",t._l(t.accounts,function(e){return a("tr",{key:e.id},[a("td",[a("router-link",{attrs:{to:{name:"account",params:{id:e.id}}}},[t._v(t._s(e.bankId)+" "+t._s(e.branchId)+" "+t._s(e.accountId)),e.label?a("span",[t._v(" ("+t._s(e.label)+")")]):t._e()])],1),t._v(" "),a("td",[t._v(t._s(t._f("currency")(e.balance)))]),t._v(" "),e.lastUpdate?a("td",[t._v(t._s(t._f("moment")(e.lastUpdate,"DD/MM/YYYY HH:mm")))]):a("td")])}))])]):a("div",[a("p",[t._v("There is no account yet")])]),t._v(" "),a("div",{staticClass:"field is-grouped"},[a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary",attrs:{role:"button"},on:{click:function(e){t.isCreateAccountModalActive=!0}}},[a("i",{staticClass:"fa fa-plus"}),t._v(" Add account")])]),t._v(" "),a("p",{staticClass:"control"},[a("b-field",{staticClass:"file"},[a("b-upload",{attrs:{disabled:t.upload.isUploading},on:{input:t.uploadDataset},model:{value:t.upload.file,callback:function(e){t.$set(t.upload,"file",e)},expression:"upload.file"}},[a("a",{staticClass:"button is-primary"},[a("b-icon",{attrs:{icon:"upload"}}),t._v(" "),a("span",[t._v("Upload OFX")])],1)]),t._v(" "),t.upload.file?a("span",{staticClass:"file-name"},[t._v("\n              "+t._s(t.upload.file.name)+" ("+t._s(t.upload.file.size)+" bytes)\n            ")]):t._e()],1)],1)]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-body"},[t.upload.result?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n              "+t._s(t.upload.result)+"\n            ")])]):t._e()])]),t._v(" "),a("b-modal",{attrs:{active:t.isCreateAccountModalActive,"has-modal-card":"",scroll:"keep"},on:{"update:active":function(e){t.isCreateAccountModalActive=e}}},[a("create-account")],1),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Account")]),this._v(" "),e("th",[this._v("Balance")]),this._v(" "),e("th",[this._v("Updated")])])])}]},C=a("VU/8")(b,_,!1,null,null,null).exports,y=a("BO1k"),w=a.n(y),x=a("8+8L");s.default.use(x.a);var k={data:function(){return{categories:[],categoriesAndSubcategoriesLookup:[],rCategories:s.default.resource(o+"categories{/id}")}},methods:{handleResponse:function(t){this.categories=t,this.categoriesAndSubcategoriesLookup=function(t){for(var e=[],a=0;a<t.length;a++){var s=t[a];e[s.id]=s;for(var i=0;i<s.sub.length;i++){var r=s.sub[i];e[r.id]=r}}return e}(this.categories)},getCategories:function(t){var e=this,a="categoriesActives";t&&(a="categories"),localStorage.getItem(a)?this.handleResponse(JSON.parse(localStorage.getItem(a))):this.rCategories.query({}).then(function(t){e.handleResponse(t.body),localStorage.setItem(a,r()(e.categories))},function(t){console.error(t)})}}},A={props:["rTransactions","transaction"],mixins:[k],data:function(){return{error:"",isLoading:!1,currentDate:new Date,rCategories:this.$resource(o+"categories{/id}")}},computed:{dateUser:{get:function(){return this.$moment(this.transaction.dateUser).toDate()},set:function(t){this.transaction.dateUser=this.$moment(t).format()}}},methods:{validateBeforeSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.isLoading=!0,t.transaction.amount=parseFloat(t.transaction.amount),t.rTransactions.update({id:t.transaction.id},t.transaction).then(function(e){t.$parent.close()},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}))})}},watch:{"transaction.category":function(){this.transaction.subcategory=""}},mounted:function(){this.getCategories(!1)}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"modal-card"},[t._m(0),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Name")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.name,expression:"transaction.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"input",class:{"is-danger":t.errors.has("name")},attrs:{type:"text",name:"name",placeholder:"Transaction name (from bank)"},domProps:{value:t.transaction.name},on:{input:function(e){e.target.composing||t.$set(t.transaction,"name",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("name")))])])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Amount")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.amount,expression:"transaction.amount"},{name:"validate",rawName:"v-validate",value:"required|decimal:2",expression:"'required|decimal:2'"}],staticClass:"input",class:{"is-danger":t.errors.has("amount")},attrs:{type:"number",name:"amount",placeholder:"Amount"},domProps:{value:t.transaction.amount},on:{input:function(e){e.target.composing||t.$set(t.transaction,"amount",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("amount"),expression:"errors.has('amount')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("amount")))])])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Date")]),t._v(" "),a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:"End date",icon:"calendar",readonly:!1,"max-date":t.currentDate},model:{value:t.dateUser,callback:function(e){t.dateUser=e},expression:"dateUser"}})],1)]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Note")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.note,expression:"transaction.note"},{name:"validate",rawName:"v-validate",value:"max:30",expression:"'max:30'"}],staticClass:"input",class:{"is-danger":t.errors.has("note")},attrs:{type:"text",name:"note",placeholder:"Note of your choice"},domProps:{value:t.transaction.note},on:{input:function(e){e.target.composing||t.$set(t.transaction,"note",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("note"),expression:"errors.has('note')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("note")))])])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Category")]),t._v(" "),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.transaction.category,expression:"transaction.category"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.transaction,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- Category --")]),t._v(" "),t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])])]),t._v(" "),t.transaction.category&&t.categoriesAndSubcategoriesLookup[t.transaction.category]&&t.categoriesAndSubcategoriesLookup[t.transaction.category].sub.length>0?a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Subcategory")]),t._v(" "),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.transaction.subcategory,expression:"transaction.subcategory"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.transaction,"subcategory",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- Subcategory --")]),t._v(" "),t._l(t.categoriesAndSubcategoriesLookup[t.transaction.category].sub,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])])]):t._e(),t._v(" "),t.error?a("div",{staticClass:"message is-danger block"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e()]),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-primary"},[t._v("Save")]),t._v(" "),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v("Cancel")])]),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[this._v("Transaction")])])}]},L={name:"transactions",components:{Transaction:a("VU/8")(A,I,!1,null,null,null).exports},props:["url"],mixins:[k],data:function(){var t=new Date;return{transactions:[],isLoading:!1,batch:{isActive:!1,isLoading:!1,progress:0,result:"",checkedTransactions:[],category:"",subcategory:""},search:{isActive:!1,query:"",currentDate:t,startDate:new Date(t.getFullYear(),t.getMonth(),t.getDate()-30),endDate:t,category:"",subcategory:""},modalTransaction:{isActive:!1,transaction:{}},rTransactions:this.$resource(this.url)}},computed:{displayedTransactions:function(){var t=this,e=this.search.query,a=this.search.startDate,s=this.search.endDate,i=this.search.category,r=this.search.subcategory,n=this.transactions;return n.map(function(e){return e.categoryLabel=e.category in t.categoriesAndSubcategoriesLookup?t.categoriesAndSubcategoriesLookup[e.category].label:null,e.subcategoryLabel=e.subcategory in t.categoriesAndSubcategoriesLookup?t.categoriesAndSubcategoriesLookup[e.subcategory].label:null,e.fullname=e.memo?e.memo+" "+e.name:e.name,e}),n.filter(function(t){return(t.note+t.fullname).toLowerCase().indexOf(e.toLowerCase())>-1&new Date(Date.parse(t.datePosted))>=a&new Date(Date.parse(t.datePosted))<=s&(!i||t.category===i)&(!r||t.subcategory===r)})},transactionsCheckedSum:function(){return this.batch.checkedTransactions.length>0?this.batch.checkedTransactions.reduce(function(t,e){return t+e.amount},0):0}},methods:{get:function(){var t=this;this.isLoading=!0,this.rTransactions.query({}).then(function(e){t.transactions=e.body},function(t){console.error(t)}).finally(function(){this.isLoading=!1})},edit:function(t){if(this.batch.isActive){var e=this.batch.checkedTransactions.indexOf(t);e>-1?this.batch.checkedTransactions.splice(e,1):this.batch.checkedTransactions.push(t)}else this.modalTransaction.transaction=t,this.modalTransaction.isActive=!0},processBatchUpdate:function(){var t=this,e=this.batch.checkedTransactions.length;e>0&&function(){t.batch.isLoading=!0,t.batch.progress=0;var a=0,s=t.batch.category,i=t.batch.subcategory;t.batch.result="";var r=function(r){s&&(r.category=s,i&&(r.subcategory=i)),t.rTransactions.update({id:r.id},r).then(function(t){},function(e){e.body.message?t.batch.result+=r.id+" : "+e.body.message+". ":t.batch.result+=r.id+" : "+e.status+" - "+e.statusText+". "}).finally(function(){a++,this.batch.progress=a/e,a===e&&(this.batch.isLoading=!1)})},n=!0,o=!1,l=void 0;try{for(var c,d=w()(t.batch.checkedTransactions);!(n=(c=d.next()).done);n=!0){r(c.value)}}catch(t){o=!0,l=t}finally{try{!n&&d.return&&d.return()}finally{if(o)throw l}}}()},selectAll:function(){this.batch.checkedTransactions=this.displayedTransactions.slice()},selectNone:function(){this.batch.checkedTransactions=[]}},watch:{"search.category":function(){this.search.subcategory=""}},mounted:function(){var t=this;this.get(),this.getCategories(!0),n.$on("transactions-updated",function(){t.get()})}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-collapse",{staticClass:"card",attrs:{open:t.search.isActive},on:{"update:open":function(e){t.$set(t.search,"isActive",e)}}},[a("div",{staticClass:"card-header",attrs:{slot:"trigger"},slot:"trigger"},[a("span",{staticClass:"card-header-icon"},[a("i",{staticClass:"fa",class:t.search.isActive?"fa-angle-down":"fa-angle-right"})]),t._v(" "),a("p",{staticClass:"card-header-title"},[t._v("Search transactions")])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"field is-grouped is-grouped-multiline is-block-mobile"},[a("div",{staticClass:"control has-icons-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.query,expression:"search.query"}],staticClass:"input",attrs:{type:"text",placeholder:"Find a transaction"},domProps:{value:t.search.query},on:{input:function(e){e.target.composing||t.$set(t.search,"query",e.target.value)}}}),t._v(" "),a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fa fa-search"})])]),t._v(" "),a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:"Start date",icon:"calendar",editable:"","max-date":t.search.currentDate},model:{value:t.search.startDate,callback:function(e){t.$set(t.search,"startDate",e)},expression:"search.startDate"}})],1),t._v(" "),a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:"End date",icon:"calendar",editable:"","max-date":t.search.currentDate},model:{value:t.search.endDate,callback:function(e){t.$set(t.search,"endDate",e)},expression:"search.endDate"}})],1),t._v(" "),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.category,expression:"search.category"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.search,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- Category --")]),t._v(" "),t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])]),t._v(" "),t.search.category&&t.categoriesAndSubcategoriesLookup[t.search.category].sub.length>0?a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.subcategory,expression:"search.subcategory"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.search,"subcategory",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- Subcategory --")]),t._v(" "),t._l(t.categoriesAndSubcategoriesLookup[t.search.category].sub,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])]):t._e()])])]),t._v(" "),a("b-collapse",{staticClass:"card",attrs:{open:t.batch.isActive},on:{"update:open":function(e){t.$set(t.batch,"isActive",e)}}},[a("div",{staticClass:"card-header",attrs:{slot:"trigger"},slot:"trigger"},[a("span",{staticClass:"card-header-icon"},[a("i",{staticClass:"fa",class:t.batch.isActive?"fa-angle-down":"fa-angle-right"})]),t._v(" "),a("p",{staticClass:"card-header-title"},[t._v("Batch updates")])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"field is-grouped is-grouped-multiline"},[a("div",{staticClass:"control"},[a("div",{staticClass:"input is-static"},[t._v(t._s(t.batch.checkedTransactions.length)+" transactions selected ("+t._s(t._f("currency")(t.transactionsCheckedSum))+")")])]),t._v(" "),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.batch.category,expression:"batch.category"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.batch,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- Category --")]),t._v(" "),t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])]),t._v(" "),t.batch.category&&t.categoriesAndSubcategoriesLookup[t.batch.category].sub.length>0?a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.batch.subcategory,expression:"batch.subcategory"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.batch,"subcategory",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- Subcategory --")]),t._v(" "),t._l(t.categoriesAndSubcategoriesLookup[t.batch.category].sub,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])]):t._e(),t._v(" "),a("div",{staticClass:"control"},[a("button",{staticClass:"button is-primary",class:{"is-loading":t.batch.isLoading},attrs:{disabled:t.batch.isLoading},on:{click:t.processBatchUpdate}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-cogs"})]),a("span",[t._v("Apply")])])]),t._v(" "),a("div",{staticClass:"control"},[a("button",{staticClass:"button is-light",attrs:{disabled:t.batch.isLoading},on:{click:t.selectAll}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-check-square-o"})]),a("span",[t._v("Select all")])])]),t._v(" "),a("div",{staticClass:"control"},[a("button",{staticClass:"button is-light",attrs:{disabled:t.batch.isLoading},on:{click:t.selectNone}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-square-o"})]),a("span",[t._v("Clear")])])])]),t._v(" "),a("div",{staticClass:"field is-block-mobile"},[a("progress",{staticClass:"progress",attrs:{max:"1"},domProps:{value:t.batch.progress}},[t._v(t._s(t.batch.progress)+" %")])]),t._v(" "),a("div",{staticClass:"field"},[t.batch.result?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n            "+t._s(t.batch.result)+"\n          ")])]):t._e()])])]),t._v(" "),a("b-table",{attrs:{data:t.displayedTransactions,paginated:!0,striped:!0,hoverable:!0,loading:t.isLoading,"default-sort":"datePosted","default-sort-direction":"desc",checkable:t.batch.isActive,"checked-rows":t.batch.checkedTransactions},on:{select:t.edit,"update:checkedRows":function(e){t.$set(t.batch,"checkedTransactions",e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"amount",label:"Amount",sortable:"",numeric:""}},[a("span",{class:[e.row.amount<0?"has-text-danger":"has-text-primary"]},[t._v(t._s(t._f("currency")(e.row.amount)))])]),t._v(" "),a("b-table-column",{attrs:{field:"name",label:"Name",sortable:""}},[t._v("\n        "+t._s(e.row.fullname)),e.row.note?a("span",{staticClass:"has-text-grey"},[t._v(" | "+t._s(e.row.note))]):t._e()]),t._v(" "),a("b-table-column",{attrs:{field:"datePosted",label:"Date",sortable:""}},[t._v("\n        "+t._s(t._f("moment")(e.row.datePosted,"DD/MM/YYYY"))+"\n      ")]),t._v(" "),a("b-table-column",{attrs:{field:"category",label:"Category",sortable:""}},[t._v("\n        "+t._s(e.row.categoryLabel)),e.row.subcategory?a("span",[t._v(" / "+t._s(e.row.subcategoryLabel))]):t._e()])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[t._v("There is nothing to display")])])])])],2),t._v(" "),a("b-modal",{attrs:{active:t.modalTransaction.isActive,"has-modal-card":"",scroll:"keep"},on:{"update:active":function(e){t.$set(t.modalTransaction,"isActive",e)}}},[a("transaction",{attrs:{transaction:t.modalTransaction.transaction,rTransactions:t.rTransactions}})],1)],1)},staticRenderFns:[]},N=a("VU/8")(L,$,!1,null,null,null).exports,S={name:"account",components:{Breadcrumb:h,Transactions:N},data:function(){return{account:{id:parseInt(this.$route.params.id),bankId:"",branchId:"",accountId:"",label:"",balance:0,transactions:[]},isLoading:!1,updatedAccount:{},maps:[],upload:{file:null,map:"",isUploading:!1,result:""},url:o+"accounts/"+parseInt(this.$route.params.id)+"/transactions{/id}",rAccounts:this.$resource(o+"accounts{/id}"),rMaps:this.$resource(o+"maps"),rDatasets:this.$resource(o+"accounts/"+parseInt(this.$route.params.id)+"/dataset")}},computed:{accountTitle:function(){return this.account.label?this.account.label:this.account.bankId+" "+this.account.branchId+" "+this.account.accountId}},methods:{get:function(){var t=this;this.isLoading=!0,this.rAccounts.get({id:this.account.id}).then(function(e){t.account.bankId=e.body.bankId,t.account.branchId=e.body.branchId,t.account.accountId=e.body.accountId,t.account.balance=e.body.balance,t.account.label=e.body.label,t.updatedAccount=JSON.parse(r()(t.account)),delete t.updatedAccount.transactions},function(e){403!==e.status&&404!==e.status?console.error(e):t.$router.replace({name:"home"})}).finally(function(){this.isLoading=!1})},validateUpdateBeforeSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.isLoading=!0,t.rAccounts.update({id:t.account.id},t.updatedAccount).then(function(e){t.account.bankId=e.body.bankId,t.account.branchId=e.body.branchId,t.account.accountId=e.body.accountId,t.account.balance=e.body.balance,t.account.label=e.body.label},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1}))})},deleteAccount:function(){var t=this;this.$dialog.confirm({message:"Are you sure you want to delete this account?<br>All transactions will be deleted too.",title:"Deleting account",type:"is-danger",hasIcon:!0,icon:"trash",confirmText:"Delete account",focusOn:"cancel",onConfirm:function(){t.isLoading=!0,t.rAccounts.delete({id:t.account.id}).then(function(e){t.$router.replace({name:"accounts"})},function(t){console.error(t)}).finally(function(){this.isLoading=!1})}})},getMaps:function(){var t=this;localStorage.getItem("maps")?this.maps=JSON.parse(localStorage.getItem("maps")):this.rMaps.get().then(function(e){t.maps=e.body,localStorage.setItem("maps",r()(t.maps))},function(t){console.error(t)})},uploadDataset:function(){var t=this;this.upload.result="";var e=this.upload.file,a=new FormData;if(a.append("Content-Type",e.type||"application/octet-stream"),a.append("file",e),e.size>8e7)this.upload.result="File too big";else{var s={};if("application/json"===e.type){if(!this.upload.map)return void(this.upload.result="Map must be set for uploading a JSON file");s={map:this.upload.map}}this.upload.isUploading=!0,this.isLoading=!0,this.rDatasets.save(s,a).then(function(e){e.body.message&&(t.upload.result=e.body.message),n.$emit("transactions-updated",{})},function(e){e.body.message?t.upload.result=e.body.message:t.upload.result=e.status+" - "+e.statusText}).finally(function(){this.upload.isUploading=!1,this.isLoading=!1})}}},mounted:function(){this.get(),this.getMaps()}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:"Home"},{link:"/accounts",icon:"fa-table",text:"Accounts"},{link:"/accounts",text:t.accountTitle,isActive:!0}]}})],1),t._v(" "),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v("Account "+t._s(t.accountTitle))]),t._v(" "),a("b-tabs",{attrs:{type:"is-boxed",animated:!1}},[a("b-tab-item",{staticClass:"has-half-margin-mobile",attrs:{label:"Transactions",icon:"file-text-o"}},[a("transactions",{attrs:{url:t.url}}),t._v(" "),a("div",{staticClass:"field is-grouped"},[a("p",{staticClass:"control"},[a("b-field",{staticClass:"file"},[a("b-upload",{attrs:{disabled:t.upload.isUploading},on:{input:t.uploadDataset},model:{value:t.upload.file,callback:function(e){t.$set(t.upload,"file",e)},expression:"upload.file"}},[a("a",{staticClass:"button is-primary"},[a("b-icon",{attrs:{icon:"upload"}}),t._v(" "),a("span",[t._v("Upload OFX/JSON")])],1)]),t._v(" "),t.upload.file?a("span",{staticClass:"file-name"},[t._v("\n                  "+t._s(t.upload.file.name)+" ("+t._s(t.upload.file.size)+" bytes)\n                ")]):t._e()],1)],1),t._v(" "),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.upload.map,expression:"upload.map"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.upload,"map",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- JSON Map --")]),t._v(" "),t._l(t.maps,function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.label))])})],2)])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-body"},[t.upload.result?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n                  "+t._s(t.upload.result)+"\n                ")])]):t._e()])])],1),t._v(" "),a("b-tab-item",{attrs:{label:"Edit",icon:"pencil"}},[a("form",{staticClass:"section is-max-width-form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateUpdateBeforeSubmit(e)}}},[a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Bank identifier")])]),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedAccount.bankId,expression:"updatedAccount.bankId"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("bankId")},attrs:{type:"text",name:"bankId",placeholder:"Bank Id","data-vv-as":"bank id"},domProps:{value:t.updatedAccount.bankId},on:{input:function(e){e.target.composing||t.$set(t.updatedAccount,"bankId",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("bankId"),expression:"errors.has('bankId')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("bankId")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Bank identifier")])]),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedAccount.branchId,expression:"updatedAccount.branchId"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("BranchId")},attrs:{type:"text",name:"BranchId",placeholder:"Branch Id","data-vv-as":"branch id"},domProps:{value:t.updatedAccount.branchId},on:{input:function(e){e.target.composing||t.$set(t.updatedAccount,"branchId",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("BranchId"),expression:"errors.has('BranchId')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("BranchId")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Account identifier")])]),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedAccount.accountId,expression:"updatedAccount.accountId"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("AccountId")},attrs:{type:"text",name:"AccountId",placeholder:"Account Id","data-vv-as":"account id"},domProps:{value:t.updatedAccount.accountId},on:{input:function(e){e.target.composing||t.$set(t.updatedAccount,"accountId",e.target.value)}}}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("AccountId"),expression:"errors.has('AccountId')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("AccountId")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Label")])]),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedAccount.label,expression:"updatedAccount.label"},{name:"validate",rawName:"v-validate",value:"max:30",expression:"'max:30'"}],staticClass:"input",class:{"is-danger":t.errors.has("label")},attrs:{type:"text",name:"label",placeholder:"Label of your choice"},domProps:{value:t.updatedAccount.label},on:{input:function(e){e.target.composing||t.$set(t.updatedAccount,"label",e.target.value)}}}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("label")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("button",{staticClass:"button is-primary",attrs:{type:"submit",role:"button"}},[a("i",{staticClass:"fa fa-save"}),t._v(" Save")]),t._v(" "),a("button",{staticClass:"button is-danger",attrs:{type:"button",role:"button"},on:{click:t.deleteAccount}},[a("i",{staticClass:"fa fa-trash"}),t._v(" Delete")])])])])]),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading}})],1)],1)],1)])])},staticRenderFns:[]},P=a("VU/8")(S,T,!1,null,null,null).exports,E={data:function(){return{credentials:{login:"",password:""},isLoading:!1,error:""}},methods:{submit:function(t){var e=this;t.preventDefault(),this.$validator.validateAll().then(function(t){if(t){e.isLoading=!0;var a={login:e.credentials.login,password:e.credentials.password};if(e.errors.count()>0||""===a.login||""===a.password)return;l.login(e,a,e.$router.currentRoute.query.redirect)}})}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero is-light is-fullheight login"},[a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container has-text-centered"},[a("div",{staticClass:"column is-4 is-offset-4"},[a("div",{staticClass:"box"},[a("form",[a("h3",{staticClass:"title has-text-grey"},[t._v("Login")]),t._v(" "),a("p",{staticClass:"subtitle has-text-grey"},[t._v("Access to your money account")]),t._v(" "),a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.login,expression:"credentials.login"},{name:"validate",rawName:"v-validate",value:"required|min:3|alpha",expression:"'required|min:3|alpha'"}],staticClass:"input is-medium",class:{input:!0,"is-danger":t.errors.has("login")},attrs:{type:"text",name:"login",placeholder:"Login"},domProps:{value:t.credentials.login},on:{input:function(e){e.target.composing||t.$set(t.credentials,"login",e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("login"),expression:"errors.has('login')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("login"),expression:"errors.has('login')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("login")))])])]),t._v(" "),a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"},{name:"validate",rawName:"v-validate",value:"required|min:5",expression:"'required|min:5'"}],staticClass:"input is-medium",class:{input:!0,"is-danger":t.errors.has("password")},attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.credentials.password},on:{input:function(e){e.target.composing||t.$set(t.credentials,"password",e.target.value)}}}),t._v(" "),t._m(1),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("password")))])])]),t._v(" "),a("div",{staticClass:"field"},[a("button",{staticClass:"button is-block is-primary is-medium is-fullwidth",class:{"is-loading":t.isLoading},attrs:{disabled:t.isLoading},on:{click:t.submit}},[a("span",{staticClass:"fa fa-sign-in fa-fw",attrs:{"aria-hidden":"true"}}),t._v(" Login")])]),t._v(" "),t.error?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n                "+t._s(t.error)+"\n              ")])]):t._e()])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fa fa-user"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fa fa-lock"})])}]};var U=a("VU/8")(E,D,!1,function(t){a("9U0N")},null,null).exports,j=a("GCDA"),q=a.n(j),M={props:{id:{type:Number,required:!0}},data:function(){return{connections:[],rConnections:this.$resource(o+"users/"+this.id+"/tokens")}},methods:{get:function(){var t=this;this.rConnections.query().then(function(e){t.connections=e.body;var a=new q.a;t.connections.forEach(function(t){a.setUA(t.userAgent);var e=a.getResult();t.browser=e.browser.name+" "+e.browser.major,t.os=e.os.name+" "+e.os.version,e.device.model&&(t.device=e.device.model)})},function(t){t.body.message?console.log(t.body.message):console.log(t.status+" - "+t.statusText)})}},mounted:function(){this.get()}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-table",{attrs:{data:t.connections,"mobile-cards":!1,striped:!0,narrowed:"","default-sort":"creation","default-sort-direction":"desc"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"creation",label:"Date",sortable:""}},[t._v("\n      "+t._s(t._f("moment")(e.row.creation,"DD/MM/YYYY HH:mm:ss"))+"\n    ")]),t._v(" "),a("b-table-column",{attrs:{field:"ip",label:"IP address",sortable:""}},[t._v("\n      "+t._s(e.row.ip)+"\n    ")]),t._v(" "),a("b-table-column",{attrs:{field:"userAgent",label:"User agent",sortable:"",title:e.row.userAgent}},[t._v("\n      "+t._s(e.row.browser)+" / "+t._s(e.row.os)),e.row.device?a("span",[t._v(" / "+t._s(e.row.device))]):t._e()])]}}])})},staticRenderFns:[]},B=a("VU/8")(M,z,!1,null,null,null).exports,O={name:"profile",components:{UserConnections:B,Breadcrumb:h},data:function(){return{user:l.getProfile(),password:"",error:"",isLoading:!1,rUsers:this.$resource(o+"users{/id}")}},methods:{validateBeforeSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.isLoading=!0,t.rUsers.update({id:t.user.id},{sub:t.user.id,login:t.user.login,password:t.password,mail:t.user.mail}).then(function(t){},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1}))})}}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:"Home"},{link:"/profile",icon:"fa-user-circle",text:"Profile",isActive:!0}]}})],1),t._v(" "),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v("Profile")]),t._v(" "),a("p",{staticClass:"subtitle has-text-grey"},[t._v("Update your money account")]),t._v(" "),a("form",{staticClass:"section is-max-width-form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.login,expression:"user.login"},{name:"validate",rawName:"v-validate",value:"required|min:3|alpha",expression:"'required|min:3|alpha'"}],staticClass:"input",class:{input:!0,"is-danger":t.errors.has("login")},attrs:{type:"text",name:"login",placeholder:"Type your new login"},domProps:{value:t.user.login},on:{input:function(e){e.target.composing||t.$set(t.user,"login",e.target.value)}}}),t._v(" "),t._m(1),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("login"),expression:"errors.has('login')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("login"),expression:"errors.has('login')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("login")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[t._m(2),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"required|min:5",expression:"'required|min:5'"}],staticClass:"input",class:{input:!0,"is-danger":t.errors.has("password")},attrs:{type:"password",name:"password",placeholder:"Type your new password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t._m(3),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("password")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[t._m(4),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.mail,expression:"user.mail"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"input",class:{input:!0,"is-danger":t.errors.has("mail")},attrs:{type:"email",name:"mail",placeholder:"Type your mail address"},domProps:{value:t.user.mail},on:{input:function(e){e.target.composing||t.$set(t.user,"mail",e.target.value)}}}),t._v(" "),t._m(5),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("mail"),expression:"errors.has('mail')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("mail"),expression:"errors.has('mail')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("mail")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field is-grouped"},[t._m(6),t._v(" "),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-light",on:{click:function(e){t.$router.go(-1)}}},[a("span",{staticClass:"fa fa-ban fa-fw",attrs:{"aria-hidden":"true"}}),t._v(" Cancel")])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),t._v(" "),a("div",{staticClass:"field-body"},[t.error?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n                "+t._s(t.error)+"\n              ")])]):t._e()])]),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1),t._v(" "),a("user-connections",{attrs:{id:this.user.id}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Login")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fa fa-user"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("New password")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fa fa-lock"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Mail")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fa fa-envelope"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"control"},[e("button",{staticClass:"button is-primary"},[e("span",{staticClass:"fa fa-save fa-fw",attrs:{"aria-hidden":"true"}}),this._v(" Save")])])}]},F=a("VU/8")(O,R,!1,null,null,null).exports,V={props:["rPatterns","pattern"],mixins:[k],data:function(){return{error:"",matchingCount:null,rTransactions:this.$resource(o+"transactions"),isLoading:!1}},methods:{deletePattern:function(){var t=this;this.$dialog.confirm({message:"Are you sure you want to delete this pattern?",title:"Deleting pattern",type:"is-danger",hasIcon:!0,icon:"trash",confirmText:"Delete pattern",focusOn:"cancel",onConfirm:function(){t.isLoading=!0,t.rPatterns.delete({id:t.pattern.id}).then(function(e){t.$parent.close();var a=t.$parent.$parent.patterns,s=a.map(function(t){return t.id}).indexOf(t.pattern.id);a.splice(s,1)},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText})}})},validateBeforeSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){if(e){if(t.isLoading=!0,!t.pattern.id)return void t.rPatterns.save(t.pattern).then(function(e){t.pattern.id=e.body.id,t.$parent.close()},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText});t.rPatterns.update({id:t.pattern.id},t.pattern).then(function(e){t.$parent.close()},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText})}})},count:function(){var t=this;this.pattern.label&&this.rTransactions.query({pattern:this.pattern.label}).then(function(e){t.matchingCount=e.body.length,console.log(e.body.length)},function(t){console.error(t)})}},watch:{"pattern.category":function(){this.pattern.subcategory=""}},mounted:function(){this.getCategories(!1)}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"modal-card"},[t._m(0),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Label")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.pattern.label,expression:"pattern.label",modifiers:{lazy:!0}},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"input",class:{"is-danger":t.errors.has("label")},attrs:{type:"text",name:"label",placeholder:"Transaction name to be find"},domProps:{value:t.pattern.label},on:{change:[function(e){t.$set(t.pattern,"label",e.target.value)},t.count]}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("label")))])]),t._v(" "),a("p",{staticClass:"help"},[t._v("Wildcard character * is allowed"),null!==t.matchingCount?a("span",[t._v(" - "+t._s(t.matchingCount)+" results")]):t._e()])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Category")]),t._v(" "),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.pattern.category,expression:"pattern.category"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.pattern,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- Category --")]),t._v(" "),t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])])]),t._v(" "),t.pattern.category&&t.categoriesAndSubcategoriesLookup[t.pattern.category]&&t.categoriesAndSubcategoriesLookup[t.pattern.category].sub.length>0?a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Subcategory")]),t._v(" "),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.pattern.subcategory,expression:"pattern.subcategory"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.pattern,"subcategory",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- Subcategory --")]),t._v(" "),t._l(t.categoriesAndSubcategoriesLookup[t.pattern.category].sub,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])])]):t._e(),t._v(" "),t.error?a("div",{staticClass:"message is-danger block"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e()]),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[t._m(1),t._v(" "),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v("Cancel")]),t._v(" "),t.pattern.id?a("button",{staticClass:"button is-danger",attrs:{type:"button"},on:{click:t.deletePattern}},[t._m(2),a("span",[t._v("Delete")])]):t._e()]),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[this._v("Pattern")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"button is-primary"},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-save"})]),e("span",[this._v("Save")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-trash"})])}]},H={name:"patterns",components:{TransactionPattern:a("VU/8")(V,Y,!1,null,null,null).exports,Breadcrumb:h},mixins:[k],data:function(){return{patterns:[],suggestedPatterns:[],error:"",isLoading:!1,modalPattern:{isActive:!1,pattern:{}},rPatterns:this.$resource(o+"patterns{/id}"),rTransactionsPatterns:this.$resource(o+"transactions/patterns")}},methods:{get:function(){var t=this;this.isLoading=!0,this.rPatterns.query().then(function(e){t.patterns=e.body},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})},create:function(){var t={label:"",category:"",subcategory:""};this.patterns.push(t),this.modalPattern.pattern=t,this.modalPattern.isActive=!0},edit:function(t){this.modalPattern.pattern=t,this.modalPattern.isActive=!0},suggest:function(){var t=this;this.isLoading=!0,this.rTransactionsPatterns.query().then(function(e){t.suggestedPatterns=e.body},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})},createSuggested:function(t){var e=JSON.parse(r()(t));this.patterns.push(e),this.edit(e)}},mounted:function(){this.get(),this.getCategories()}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:"Home"},{link:"/patterns",icon:"fa-magic",text:"Patterns",isActive:!0}]}})],1),t._v(" "),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v("Patterns")]),t._v(" "),a("p",{staticClass:"subtitle has-text-grey"},[t._v("Automatic categorization")]),t._v(" "),a("b-table",{staticClass:"table-container",attrs:{data:t.patterns,striped:!0,hoverable:!0},on:{select:t.edit},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{label:"Label"}},[t._v("\n            "+t._s(e.row.label)+"\n          ")]),t._v(" "),a("b-table-column",{attrs:{label:"Category"}},[e.row.category&&t.categoriesAndSubcategoriesLookup[e.row.category]?a("span",[t._v(t._s(t.categoriesAndSubcategoriesLookup[e.row.category].label))]):t._e()]),t._v(" "),a("b-table-column",{attrs:{label:"Subcategory"}},[e.row.subcategory&&t.categoriesAndSubcategoriesLookup[e.row.subcategory]?a("span",[t._v(t._s(t.categoriesAndSubcategoriesLookup[e.row.subcategory].label))]):t._e()])]}}])}),t._v(" "),a("div",{staticClass:"field is-grouped"},[a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary",attrs:{role:"button"},on:{click:t.create}},[t._m(0),a("span",[t._v("Add pattern")])])]),t._v(" "),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary",attrs:{role:"button"},on:{click:t.suggest}},[t._m(1),a("span",[t._v("Suggest patterns")])])])]),t._v(" "),t.error?a("div",{staticClass:"message is-danger block"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e(),t._v(" "),a("b-table",{staticClass:"table-container",attrs:{data:t.suggestedPatterns,striped:!0,hoverable:!0},on:{select:t.createSuggested},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{label:"Label"}},[t._v("\n            "+t._s(e.row.label)+"\n          ")]),t._v(" "),a("b-table-column",{attrs:{label:"Category"}},[e.row.category&&t.categoriesAndSubcategoriesLookup[e.row.category]?a("span",[t._v(t._s(t.categoriesAndSubcategoriesLookup[e.row.category].label))]):t._e()]),t._v(" "),a("b-table-column",{attrs:{label:"Subcategory"}},[e.row.subcategory&&t.categoriesAndSubcategoriesLookup[e.row.subcategory]?a("span",[t._v(t._s(t.categoriesAndSubcategoriesLookup[e.row.subcategory].label))]):t._e()]),t._v(" "),a("b-table-column",{attrs:{label:"Occurences"}},[t._v("\n            "+t._s(e.row.count)+"\n          ")])]}}])}),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)]),t._v(" "),a("b-modal",{attrs:{active:t.modalPattern.isActive,"has-modal-card":"",scroll:"keep"},on:{"update:active":function(e){t.$set(t.modalPattern,"isActive",e)}}},[a("transaction-pattern",{attrs:{pattern:t.modalPattern.pattern,rPatterns:t.rPatterns}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-plus"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-cogs"})])}]},J=a("VU/8")(H,G,!1,null,null,null).exports,W={props:["user"],components:{UserConnections:B},data:function(){return{error:"",isLoading:!1,action:"",rUsers:this.$resource(o+"users{/id}")}},computed:{isAdmin:{get:function(){return this.user.scope.includes("admin")},set:function(t){var e=this.user.scope.split(" ").filter(function(t,e,a){return"admin"!==t});t&&e.push("admin"),this.user.scope=e.join(" ")}}},methods:{validateBeforeSubmit:function(){var t=this;this.error=null,this.$validator.validateAll().then(function(e){if(e){if(t.isLoading=!0,!t.user.sub)return void t.rUsers.save(t.user).then(function(e){t.$parent.close()},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1});t.rUsers.update({id:t.user.sub},t.user).then(function(e){t.$parent.close()},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})}})}},mounted:function(){this.action=this.user.sub?"Update":"Create"}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v(t._s(t.action)+" user")])]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Login")]),t._v(" "),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.login,expression:"user.login"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("login")},attrs:{type:"text",name:"login",placeholder:"Login"},domProps:{value:t.user.login},on:{input:function(e){e.target.composing||t.$set(t.user,"login",e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("login"),expression:"errors.has('login')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("login"),expression:"errors.has('login')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("login")))])])]),t._v(" "),t.user.sub?t._e():a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Password")]),t._v(" "),a("div",{staticClass:"control has-icons-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("password")},attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._v(" "),t._m(1),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("password")))])])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Mail")]),t._v(" "),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.mail,expression:"user.mail"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"input",class:{"is-danger":t.errors.has("mail")},attrs:{type:"email",name:"mail",placeholder:"Mail address"},domProps:{value:t.user.mail},on:{input:function(e){e.target.composing||t.$set(t.user,"mail",e.target.value)}}}),t._v(" "),t._m(2),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("mail"),expression:"errors.has('mail')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("mail"),expression:"errors.has('mail')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("mail")))])])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Status")]),t._v(" "),a("div",{staticClass:"control"},[a("b-switch",{model:{value:t.user.status,callback:function(e){t.$set(t.user,"status",e)},expression:"user.status"}})],1)]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Admin")]),t._v(" "),a("div",{staticClass:"control"},[a("b-switch",{model:{value:t.isAdmin,callback:function(e){t.isAdmin=e},expression:"isAdmin"}})],1)]),t._v(" "),t.error?a("div",{staticClass:"message is-danger block"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e(),t._v(" "),a("user-connections",{attrs:{id:this.user.sub}})],1),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-primary"},[t._v(t._s(t.action))]),t._v(" "),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v("Cancel")])]),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fa fa-user"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fa fa-lock"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fa fa-envelope"})])}]},K={name:"users",components:{Breadcrumb:h,UserForm:a("VU/8")(W,X,!1,null,null,null).exports},data:function(){return{users:[],error:"",isLoading:!1,modalUser:{isActive:!1,user:{}},rUsers:this.$resource(o+"users{/id}")}},computed:{displayedUsers:function(){return this.users.slice().map(function(t){return t.isAdmin=t.scope.includes("admin"),t})}},methods:{get:function(){var t=this;this.isLoading=!0,this.rUsers.query().then(function(e){t.users=e.body},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})},create:function(){this.modalUser.user={scope:"user",status:!0},this.modalUser.isActive=!0},edit:function(t){this.modalUser.user=JSON.parse(r()(t)),delete this.modalUser.user.isAdmin,this.modalUser.isActive=!0}},mounted:function(){this.get()}},Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:"Home"},{link:"/users",icon:"fa-users",text:"Users",isActive:!0}]}})],1),t._v(" "),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v("Users")]),t._v(" "),a("b-table",{staticClass:"table-container",attrs:{data:t.displayedUsers,striped:!0,hoverable:!0},on:{select:t.edit},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{label:"Login"}},[t._v("\n            "+t._s(e.row.login)+"\n          ")]),t._v(" "),a("b-table-column",{attrs:{label:"Mail"}},[t._v("\n              "+t._s(e.row.mail)+"\n            ")]),t._v(" "),a("b-table-column",{attrs:{label:"Admin"}},[a("b-switch",{attrs:{disabled:""},model:{value:e.row.isAdmin,callback:function(a){t.$set(e.row,"isAdmin",a)},expression:"props.row.isAdmin"}})],1),t._v(" "),a("b-table-column",{attrs:{label:"Status"}},[a("b-switch",{attrs:{disabled:""},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"props.row.status"}})],1)]}}])}),t._v(" "),a("div",{staticClass:"field is-grouped"},[a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary",attrs:{role:"button"},on:{click:t.create}},[a("i",{staticClass:"fa fa-user-plus"}),t._v(" Add user")])])]),t._v(" "),t.error?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e(),t._v(" "),a("b-modal",{attrs:{active:t.modalUser.isActive,"has-modal-card":"",scroll:"keep"},on:{"update:active":function(e){t.$set(t.modalUser,"isActive",e)},close:t.get}},[a("user-form",t._b({},"user-form",t.modalUser,!1))],1),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])},staticRenderFns:[]},Q=a("VU/8")(K,Z,!1,null,null,null).exports,tt={name:"category",components:{Breadcrumb:h,"icon-picker":a("+U1x").fontAwesomePicker},props:["isCategory"],data:function(){return{rCategories:this.$resource(o+"categories{/id}"),category:{id:parseInt(this.$route.params.id),status:!0},parentCategories:[],isIconPickerDisplayed:!1,breadcrumbItems:[],isLoading:!1,error:null}},methods:{get:function(){var t=this;this.isLoading=!0,this.rCategories.get({id:this.category.id}).then(function(e){t.category=e.body,t.updateBreadcrumbItems()},function(t){console.error(t)}).finally(function(){this.isLoading=!1})},updateBreadcrumbItems:function(){var t=this,e=this.breadcrumbItems.slice(),a=2;if(!this.isCategory&&(a=3,this.category.parentId)){var s=this.category.parentId;if(this.parentCategories.length>0){var i=this.parentCategories.filter(function(e){return e.id===parseInt(t.category.parentId)});i.length>0&&(s=i[0].label,e[a-1]={link:{name:"category",params:{id:this.category.parentId}},text:s})}}this.category.label&&(e[a]={link:"/categories",text:this.category.label,isActive:!0}),this.breadcrumbItems=e.slice()},getParentCategories:function(){var t=this;if(localStorage.getItem("categories"))return this.parentCategories=JSON.parse(localStorage.getItem("categories")),void this.updateBreadcrumbItems();this.rCategories.query({status:"all"}).then(function(e){t.parentCategories=e.body,t.updateBreadcrumbItems()},function(t){console.error(t)})},toggleIconPicker:function(){this.isIconPickerDisplayed=!this.isIconPickerDisplayed},setIcon:function(t){this.category.icon=t.className,this.toggleIconPicker()},validateBeforeSubmit:function(){var t=this;this.error=null,this.$validator.validateAll().then(function(e){if(e){if(t.isLoading=!0,!t.category.id)return void t.rCategories.save(t.category).then(function(e){localStorage.removeItem("categoriesActives"),localStorage.removeItem("categories"),t.$router.replace({name:"categories"})},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1});t.rCategories.update({id:t.category.id},t.category).then(function(e){localStorage.removeItem("categoriesActives"),localStorage.removeItem("categories"),t.$router.replace({name:"categories"})},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})}})}},mounted:function(){this.breadcrumbItems=[{link:"/",icon:"fa-home",text:"Home"},{link:"/categories",icon:"fa-folder-open-o",text:"Categories"}],this.category.id&&this.get(),this.isCategory?this.category.icon||(this.category.icon="fa-question"):(this.category.parentId=parseInt(this.$route.params.pid),this.getParentCategories())}},et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:this.breadcrumbItems},on:{"update:items":function(e){t.$set(this,"breadcrumbItems",e)}}})],1),t._v(" "),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v("Category")]),t._v(" "),a("p",{staticClass:"subtitle has-text-grey"},[t._v("Edit category")]),t._v(" "),a("form",{staticClass:"section is-max-width-form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category.label,expression:"category.label"},{name:"validate",rawName:"v-validate",value:"required|min:3",expression:"'required|min:3'"}],staticClass:"input",class:{"is-danger":t.errors.has("label")},attrs:{type:"text",name:"label",placeholder:"Type a short description"},domProps:{value:t.category.label},on:{input:function(e){e.target.composing||t.$set(t.category,"label",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("label")))])])])])]),t._v(" "),t.isCategory?t._e():a("div",{staticClass:"field is-horizontal"},[t._m(1),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.category.parentId,expression:"category.parentId"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-danger":t.errors.has("label")},attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.category,"parentId",e.target.multiple?a:a[0])}}},t._l(t.parentCategories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])}))])])])])]),t._v(" "),t.isCategory?a("div",{staticClass:"field is-horizontal"},[t._m(2),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isIconPickerDisplayed,expression:"!isIconPickerDisplayed"}],staticClass:"button",on:{click:t.toggleIconPicker}},[a("i",{staticClass:"fa fa-fw",class:t.category.icon})]),t._v(" "),a("icon-picker",{directives:[{name:"show",rawName:"v-show",value:t.isIconPickerDisplayed,expression:"isIconPickerDisplayed"}],on:{selectIcon:t.setIcon}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.category.icon,expression:"!category.icon"}],staticClass:"help is-danger"},[t._v("Icon is required.")])],1)])])]):t._e(),t._v(" "),a("div",{staticClass:"field is-horizontal"},[t._m(3),t._v(" "),a("div",{staticClass:"field-body"},[a("b-switch",{model:{value:t.category.status,callback:function(e){t.$set(t.category,"status",e)},expression:"category.status"}},[t._v(t._s(t.category.status?"Active":"Disabled"))])],1)]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field is-grouped"},[t._m(4),t._v(" "),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-light",on:{click:function(e){t.$router.go(-1)}}},[a("span",{staticClass:"fa fa-ban fa-fw",attrs:{"aria-hidden":"true"}}),t._v(" Cancel")])])])])]),t._v(" "),t.error?a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n                "+t._s(t.error)+"\n              ")])])])]):t._e(),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Label")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Parent")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Icon")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label"},[e("label",{staticClass:"label"},[this._v("Status")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"control"},[e("button",{staticClass:"button is-primary"},[e("span",{staticClass:"fa fa-save fa-fw",attrs:{"aria-hidden":"true"}}),this._v(" Save")])])}]},at=a("VU/8")(tt,et,!1,null,null,null).exports,st={name:"categories",components:{Breadcrumb:h,Category:at},data:function(){return{rCategories:this.$resource(o+"categories{/id}"),categories:[],isLoading:!1}},methods:{get:function(){var t=this;this.isLoading=!0,this.rCategories.query({}).then(function(e){t.categories=e.body,localStorage.setItem("categories",r()(t.categories))},function(t){console.error(t)}).finally(function(){this.isLoading=!1})}},mounted:function(){this.get()}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:"Home"},{link:"/categories",icon:"fa-folder-open-o",text:"Categories",isActive:!0}]}})],1),t._v(" "),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v("Categories")]),t._v(" "),a("p",{staticClass:"subtitle has-text-grey"},[t._v("Click to edit category or subcategory or add new one")]),t._v(" "),a("ul",{staticClass:"menu-list"},[t._l(t.categories,function(e){return a("li",{key:e.id,class:{"item-disabled":!e.status}},[a("router-link",{attrs:{to:{name:"category",params:{id:e.id}}}},[a("i",{staticClass:"fa fa-fw",class:e.icon}),t._v(" "+t._s(e.label))]),t._v(" "),a("ul",[t._l(e.sub,function(s){return a("li",{key:s.id,class:{"item-disabled":!s.status}},[a("router-link",{attrs:{to:{name:"subcategory",params:{id:s.id,pid:e.id}}}},[t._v(t._s(s.label))])],1)}),t._v(" "),a("li",[a("router-link",{staticClass:"has-text-grey-light",attrs:{to:{name:"subcategory",params:{id:"new",pid:e.id}}}},[a("i",{staticClass:"fa fa-fw fa-plus-square-o"}),t._v("Add a subcategory")])],1)],2)],1)}),t._v(" "),a("li",[a("router-link",{staticClass:"has-text-grey-light",attrs:{to:{name:"category",params:{id:"new"}}}},[a("i",{staticClass:"fa fa-fw fa-plus-square-o"}),t._v("Add a category")])],1)],2),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])},staticRenderFns:[]};var rt=a("VU/8")(st,it,!1,function(t){a("bAts")},"data-v-042b51ce",null).exports,nt={name:"mappings",components:{Breadcrumb:h},data:function(){return{rMaps:this.$resource(o+"maps{/id}"),maps:[],isLoading:!1}},methods:{get:function(){var t=this;this.isLoading=!0,this.rMaps.query({}).then(function(e){t.maps=e.body,localStorage.setItem("maps",r()(t.maps))},function(t){console.error(t)}).finally(function(){this.isLoading=!1})}},mounted:function(){this.get()}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:"Home"},{link:"/maps",icon:"fa-random",text:"Transaction mappings",isActive:!0}]}})],1),t._v(" "),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v("Transaction mappings")]),t._v(" "),a("p",{staticClass:"subtitle has-text-grey"},[t._v("Click to edit transaction mapping or add new one")]),t._v(" "),a("ul",{staticClass:"menu-list"},[t._l(t.maps,function(e){return a("li",{key:e.code},[a("router-link",{attrs:{to:{name:"map",params:{code:e.code}}}},[t._v(t._s(e.label))])],1)}),t._v(" "),a("li",[a("router-link",{staticClass:"has-text-grey-light",attrs:{to:{name:"newMap"}}},[a("i",{staticClass:"fa fa-fw fa-plus-square-o"}),t._v("Add a map")])],1)],2),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])},staticRenderFns:[]},lt=a("VU/8")(nt,ot,!1,null,null,null).exports,ct={name:"mapping",components:{Breadcrumb:h},props:["isNew"],data:function(){return{rMaps:this.$resource(o+"maps{/code}"),map:{code:this.$route.params.code,label:"",dateFormat:"Y-m-d",attributes:{datePosted:"",fitid:"",memo:"",dateUser:"",name:"",amount:""}},isLoading:!1,error:null}},methods:{get:function(){var t=this;this.isLoading=!0,this.rMaps.get({code:this.$route.params.code}).then(function(e){t.map=e.body},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})},deleteMap:function(){var t=this;this.$dialog.confirm({message:"Are you sure you want to delete this mapping?",title:"Deleting mapping",type:"is-danger",hasIcon:!0,icon:"trash",confirmText:"Delete mapping",focusOn:"cancel",onConfirm:function(){t.isLoading=!0,t.rMaps.delete({code:t.$route.params.code}).then(function(e){localStorage.removeItem("maps"),t.$router.replace({name:"maps"})},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText})}})},validateBeforeSubmit:function(){var t=this;this.error=null,this.$validator.validateAll().then(function(e){if(e){if(t.isLoading=!0,t.isNew)return void t.rMaps.save(t.map).then(function(e){localStorage.removeItem("maps"),t.$router.replace({name:"maps"})},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText});t.rMaps.update({code:t.$route.params.code},t.map).then(function(e){localStorage.removeItem("maps"),t.$router.replace({name:"maps"})},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText})}})}},mounted:function(){this.isNew||this.get()}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:"Home"},{link:"/maps",icon:"fa-random",text:"Transaction mappings"},{link:"/maps",text:this.map.label,isActive:!0}]}})],1),t._v(" "),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v("Transaction mapping")]),t._v(" "),a("p",{staticClass:"subtitle has-text-grey"},[t._v("Edit Map")]),t._v(" "),a("form",{staticClass:"section is-max-width-form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.code,expression:"map.code"},{name:"validate",rawName:"v-validate",value:"required|alpha|min:2|max:10|is_not:new",expression:"'required|alpha|min:2|max:10|is_not:new'"}],staticClass:"input",class:{"is-danger":t.errors.has("code")},attrs:{type:"text",name:"code",placeholder:"Type a code",disabled:!t.isNew},domProps:{value:t.map.code},on:{input:function(e){e.target.composing||t.$set(t.map,"code",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("code"),expression:"errors.has('code')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("code"),expression:"errors.has('code')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("code")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[t._m(1),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.label,expression:"map.label"},{name:"validate",rawName:"v-validate",value:"required|max:100",expression:"'required|max:100'"}],staticClass:"input",class:{"is-danger":t.errors.has("label")},attrs:{type:"text",name:"label",placeholder:"Type the JSON attribute"},domProps:{value:t.map.label},on:{input:function(e){e.target.composing||t.$set(t.map,"label",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("label")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[t._m(2),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.dateFormat,expression:"map.dateFormat"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"input",class:{"is-danger":t.errors.has("dateFormat")},attrs:{type:"text",name:"dateFormat",placeholder:"Type the provided date format (Y-m-d)"},domProps:{value:t.map.dateFormat},on:{input:function(e){e.target.composing||t.$set(t.map,"dateFormat",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("dateFormat"),expression:"errors.has('dateFormat')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("dateFormat"),expression:"errors.has('dateFormat')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("dateFormat")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[t._m(3),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.attributes.fitid,expression:"map.attributes.fitid"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("fitid")},attrs:{type:"text",name:"fitid",placeholder:"Type the JSON attribute"},domProps:{value:t.map.attributes.fitid},on:{input:function(e){e.target.composing||t.$set(t.map.attributes,"fitid",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("fitid"),expression:"errors.has('fitid')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("fitid"),expression:"errors.has('fitid')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("fitid")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[t._m(4),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.attributes.name,expression:"map.attributes.name"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("name")},attrs:{type:"text",name:"name",placeholder:"Type the JSON attribute"},domProps:{value:t.map.attributes.name},on:{input:function(e){e.target.composing||t.$set(t.map.attributes,"name",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("name")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[t._m(5),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.attributes.memo,expression:"map.attributes.memo"},{name:"validate",rawName:"v-validate",value:"alpha_num",expression:"'alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("memo")},attrs:{type:"text",name:"memo",placeholder:"Type the JSON attribute"},domProps:{value:t.map.attributes.memo},on:{input:function(e){e.target.composing||t.$set(t.map.attributes,"memo",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("memo"),expression:"errors.has('memo')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("memo"),expression:"errors.has('memo')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("memo")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[t._m(6),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.attributes.amount,expression:"map.attributes.amount"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("amount")},attrs:{type:"text",name:"amount",placeholder:"Type the JSON attribute"},domProps:{value:t.map.attributes.amount},on:{input:function(e){e.target.composing||t.$set(t.map.attributes,"amount",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("amount"),expression:"errors.has('amount')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("amount"),expression:"errors.has('amount')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("amount")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[t._m(7),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.attributes.datePosted,expression:"map.attributes.datePosted"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("datePosted")},attrs:{type:"text",name:"datePosted",placeholder:"Type the JSON attribute"},domProps:{value:t.map.attributes.datePosted},on:{input:function(e){e.target.composing||t.$set(t.map.attributes,"datePosted",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("datePosted"),expression:"errors.has('datePosted')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("datePosted"),expression:"errors.has('datePosted')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("datePosted")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[t._m(8),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.attributes.dateUser,expression:"map.attributes.dateUser"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("dateUser")},attrs:{type:"text",name:"dateUser",placeholder:"Type the JSON attribute"},domProps:{value:t.map.attributes.dateUser},on:{input:function(e){e.target.composing||t.$set(t.map.attributes,"dateUser",e.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("dateUser"),expression:"errors.has('dateUser')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("dateUser"),expression:"errors.has('dateUser')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("dateUser")))])])])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field is-grouped"},[t._m(9),t._v(" "),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-light",on:{click:function(e){t.$router.go(-1)}}},[a("span",{staticClass:"fa fa-ban fa-fw",attrs:{"aria-hidden":"true"}}),t._v(" Cancel")])]),t._v(" "),a("div",{staticClass:"control"},[a("button",{staticClass:"button is-danger",attrs:{type:"button",role:"button"},on:{click:t.deleteMap}},[a("i",{staticClass:"fa fa-trash"}),t._v(" Delete")])])])])]),t._v(" "),t.error?a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n                "+t._s(t.error)+"\n              ")])])])]):t._e(),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Code")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Label")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Date format")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Transaction id")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Memo")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Amount")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Date posted")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Date user")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"control"},[e("button",{staticClass:"button is-primary"},[e("span",{staticClass:"fa fa-save fa-fw",attrs:{"aria-hidden":"true"}}),this._v(" Save")])])}]},ut=a("VU/8")(ct,dt,!1,null,null,null).exports,vt=a("UlOv"),mt=vt.c.reactiveProp,pt={extends:vt.a,mixins:[mt],props:{chartData:{type:Object,required:!0},chartLabels:{type:Array,required:!1}},data:function(){return{options:{legend:{display:!0},responsive:!0,maintainAspectRatio:!1,elements:{}}}},mounted:function(){this.renderChart(this.chartData,this.options)}},ht={components:{Doughnut:a("VU/8")(pt,null,!1,null,null,null).exports},mixins:[k],props:{title:{type:String,required:!0},chartEndpoint:{type:String,required:!0}},data:function(){var t=new Date;return{isLoading:!1,isLoaded:!1,chartData:null,search:{currentDate:t,periodStart:new Date(t.getFullYear(),t.getMonth(),t.getDate()-30),periodEnd:t}}},methods:{requestData:function(){var t=this;this.isLoading=!0;this.$http.get(o+this.chartEndpoint,{params:{}}).then(function(e){var a=e.data.values,s=["#42b983","#292f36","#4ecdc4","#0b3954","#ff6663","#7d7c84","#7180ac","#2b4570","#c84630","#81a684","#466060","#c9cba3","#e26d5c","#2a4747","#157a6e","#ee6c4d"],i=a.length,r=void 0;if("debit"===e.data.type){s=[];for(var n=0;n<i;n++)r=61+n/i*39,s.push("hsla(348, 100%, "+r+"%, 1)")}else if("credit"===e.data.type){s=[];for(var o=0;o<i;o++)r=49+o/i*41,s.push("hsla(153, 47%, "+r+"%, 1)")}t.chartData={datasets:[{backgroundColor:s,data:a.map(function(t){return t.amount})}]};var l=void 0;l="categories"===e.data.key?a.map(function(e){return t.categoriesAndSubcategoriesLookup[e.key]?t.categoriesAndSubcategoriesLookup[e.key].label:e.key}):a.map(function(t){return t.key}),t.chartData.labels=l,t.search.periodStart=t.$moment(e.data.periodStart).toDate(),t.search.periodEnd=t.$moment(e.data.periodEnd).toDate(),t.isLoading=!1,t.isLoaded=!0},function(t){t.body.message?console.log(t.body.message):console.log(t.status+" - "+t.statusText)})}},mounted:function(){this.requestData(),this.getCategories(!0)}},ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoaded?a("div",{staticClass:"box"},[a("p",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"field is-grouped is-grouped-multiline is-block-mobile"},[a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:"Start date",icon:"calendar",editable:"","max-date":t.search.currentDate,required:"",disabled:t.isLoading},model:{value:t.search.periodStart,callback:function(e){t.$set(t.search,"periodStart",e)},expression:"search.periodStart"}})],1),t._v(" "),a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:"End date",icon:"calendar",editable:"","max-date":t.search.currentDate,required:"",disabled:t.isLoading},model:{value:t.search.periodEnd,callback:function(e){t.$set(t.search,"periodEnd",e)},expression:"search.periodEnd"}})],1),t._v(" "),a("div",{staticClass:"control"},[a("button",{staticClass:"button",class:{"is-loading":t.isLoading},attrs:{disabled:t.isLoading},on:{click:t.requestData}},[t._m(0),a("span",[t._v("Refresh")])])])]),t._v(" "),a("doughnut",{attrs:{chartData:t.chartData}})],1):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-refresh"})])}]},gt=a("VU/8")(ht,ft,!1,null,null,null).exports,bt=vt.c.reactiveProp,_t={extends:vt.b,mixins:[bt],props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,required:!1,default:function(){return{legend:{display:!1},maintainAspectRatio:!1,spanGaps:!1,elements:{line:{tension:1e-6}},plugins:{filler:{propagate:!1}},scales:{xAxes:[{type:"time",time:{displayFormats:{quarter:"MMM YYYY"},unit:"week",unitStepSize:1},ticks:{autoSkip:!1,maxRotation:0}}]}}}}},mounted:function(){this.renderChart(this.chartData,this.chartOptions)}},Ct={components:{LineChart:a("VU/8")(_t,null,!1,null,null,null).exports},props:{title:{type:String,required:!0},chartEndpoint:{type:String,required:!0}},data:function(){var t=new Date;return{isLoading:!1,isLoaded:!1,chartData:null,search:{currentDate:t,periodStart:new Date(t.getFullYear(),t.getMonth(),t.getDate()-30),periodEnd:t}}},methods:{requestData:function(){var t=this;this.isLoading=!0;this.$http.get(o+this.chartEndpoint,{}).then(function(e){t.chartData={datasets:[{data:e.data.values.map(function(t){return t.debit}),label:"Debits",backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgb(255, 99, 132)",pointBackgroundColor:"rgba(255, 99, 132, 0.8)"},{data:e.data.values.map(function(t){return t.credit}),label:"Credits",backgroundColor:"rgba(66, 185, 131, 0.5)",borderColor:"rgb(66, 185, 131)",pointBackgroundColor:"rgba(66, 185, 131, 0.8)"}],labels:e.data.values.map(function(e){return t.$moment(e.date)})},t.search.periodStart=t.$moment(e.data.periodStart).toDate(),t.search.periodEnd=t.$moment(e.data.periodEnd).toDate(),t.isLoading=!1,t.isLoaded=!0},function(t){t.body.message?console.log(t.body.message):console.log(t.status+" - "+t.statusText)})}},mounted:function(){this.requestData()}},yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoaded?a("div",{staticClass:"box"},[a("p",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"field is-grouped is-grouped-multiline is-block-mobile"},[a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:"Start date",icon:"calendar",editable:"","max-date":t.search.currentDate,required:"",disabled:t.isLoading},model:{value:t.search.periodStart,callback:function(e){t.$set(t.search,"periodStart",e)},expression:"search.periodStart"}})],1),t._v(" "),a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:"End date",icon:"calendar",editable:"","max-date":t.search.currentDate,required:"",disabled:t.isLoading},model:{value:t.search.periodEnd,callback:function(e){t.$set(t.search,"periodEnd",e)},expression:"search.periodEnd"}})],1),t._v(" "),a("div",{staticClass:"control"},[a("button",{staticClass:"button",class:{"is-loading":t.isLoading},attrs:{disabled:t.isLoading},on:{click:t.requestData}},[t._m(0),a("span",[t._v("Refresh")])])])]),t._v(" "),a("line-chart",{attrs:{chartData:t.chartData}})],1):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-refresh"})])}]},wt={name:"home",components:{Breadcrumb:h,TransactionsDistributionChart:gt,TransactionsHistoryChart:a("VU/8")(Ct,yt,!1,null,null,null).exports,Transactions:N},data:function(){return{url:o+"transactions{/id}"}}},xt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"hero"},[e("div",{staticClass:"hero-head"},[e("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:"Home",isActive:!0}]}})],1),this._v(" "),e("div",{staticClass:"hero-body"},[e("div",{staticClass:"section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"columns is-multiline"},[e("div",{staticClass:"column is-full"},[e("transactions-history-chart",{attrs:{title:"Transactions by day",chartEndpoint:"transactions/history"}})],1),this._v(" "),e("div",{staticClass:"column is-one-half-desktop"},[e("transactions-distribution-chart",{attrs:{title:"Credit by categories",chartEndpoint:"transactions/distribution/credit/categories"}})],1),this._v(" "),e("div",{staticClass:"column is-one-half-desktop"},[e("transactions-distribution-chart",{attrs:{title:"Debit by categories",chartEndpoint:"transactions/distribution/debit/categories"}})],1)])])]),this._v(" "),e("div",{staticClass:"container box"},[e("h1",{staticClass:"title"},[this._v("Transactions")]),this._v(" "),e("transactions",{attrs:{url:this.url}})],1)])])},staticRenderFns:[]},kt=a("VU/8")(wt,xt,!1,null,null,null).exports,At={name:"setup",data:function(){return{currentStep:null,steps:[],error:"",isLoading:!1,rSteps:this.$resource(o+"setup/steps{/code}"),rFields:this.$resource(o+"setup/steps{/code}/fields")}},methods:{getSteps:function(){var t=this;this.isLoading=!0,this.rSteps.query().then(function(e){t.steps=e.body,t.setStep(t.steps.findIndex(function(t){return t.isActive}))},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})},setStep:function(t){(t<0||t>=this.steps.length)&&(t=0),this.steps.map(function(t){return t.isActive=!1,t}),this.steps.length&&(this.steps[t].isActive=!0),this.currentStep=t},validateBeforeSubmit:function(){var t=this;this.error="",this.$validator.validateAll().then(function(e){if(e){t.isLoading=!0;var a=t.steps[t.currentStep].code,s=t.steps[t.currentStep].fields.map(function(t){var e={};return e.name=t.name,e.value=t.value,e});t.rFields.update({code:a},s).then(function(e){t.currentStep++,t.setStep(t.currentStep)},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})}})}},mounted:function(){this.getSteps()}},It={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"}),t._v(" "),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[t.steps.length?a("ul",{staticClass:"steps is-horizontal is-medium is-centered has-content-centered"},t._l(t.steps,function(e){return a("li",{key:e.label,staticClass:"steps-segment has-gaps",class:{"is-active":e.isActive}},[a("span",{staticClass:"steps-marker"},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fa",class:e.icon})])]),t._v(" "),a("div",{staticClass:"steps-content"},[a("p",{staticClass:"heading"},[t._v(t._s(e.label))])])])})):a("div",{staticClass:"content has-text-grey has-text-centered"},[t._v("There is nothing to do")]),t._v(" "),t.steps.length>0?a("form",{staticClass:"section is-max-width-form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[t.steps[t.currentStep].help?a("div",{staticClass:"content has-text-grey has-text-centered",domProps:{innerHTML:t._s(t.steps[t.currentStep].help)}}):t._e(),t._v(" "),t._l(t.steps[t.currentStep].fields,function(e){return a("div",{key:e.name,staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(e.label))])]),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},["checkbox"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"field.value"},{name:"validate",rawName:"v-validate",value:e.validate,expression:"field.validate"}],staticClass:"input",class:{"is-danger":t.errors.has(e.name)},attrs:{name:e.name,placeholder:e.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(e.value)?t._i(e.value,null)>-1:e.value},on:{change:function(a){var s=e.value,i=a.target,r=!!i.checked;if(Array.isArray(s)){var n=t._i(s,null);i.checked?n<0&&t.$set(e,"value",s.concat([null])):n>-1&&t.$set(e,"value",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(e,"value",r)}}}):"radio"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"field.value"},{name:"validate",rawName:"v-validate",value:e.validate,expression:"field.validate"}],staticClass:"input",class:{"is-danger":t.errors.has(e.name)},attrs:{name:e.name,placeholder:e.placeholder,type:"radio"},domProps:{checked:t._q(e.value,null)},on:{change:function(a){t.$set(e,"value",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"field.value"},{name:"validate",rawName:"v-validate",value:e.validate,expression:"field.validate"}],staticClass:"input",class:{"is-danger":t.errors.has(e.name)},attrs:{name:e.name,placeholder:e.placeholder,type:e.type},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has(e.name),expression:"errors.has(field.name)"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has(e.name),expression:"errors.has(field.name)"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first(e.name)))])]),t._v(" "),e.help?a("p",{staticClass:"help"},[t._v(t._s(e.help))]):t._e()])])])}),t._v(" "),t.currentStep<t.steps.length-1?a("div",{staticClass:"has-text-centered"},[a("button",{staticClass:"button is-primary",attrs:{disabled:t.errors.any()}},[t._m(0),a("span",[t._v("Next")])])]):t._e()],2):t._e(),t._v(" "),t.error?a("div",{staticClass:"is-centered columns"},[a("div",{staticClass:"column is-narrow"},[a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n              "+t._s(t.error)+"\n            ")])])])]):t._e(),t._v(" "),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-arrow-circle-right"})])}]},Lt=a("VU/8")(At,It,!1,null,null,null).exports,$t={name:"about",components:{Breadcrumb:h},data:function(){return{version:{installed:"",latest:""},isUpToDate:!0,user:l.getProfile(),updateLogs:null,isLoaded:!1,isUpdating:!1,rVersions:this.$resource(o+"setup/versions/latest")}},methods:{get:function(){var t=this;this.rVersions.query().then(function(e){t.version=e.body,t.version.installed!==t.version.latest&&(t.isUpToDate=!1)},function(t){t.body.message?console.log(t.body.message):console.log(t.status+" - "+t.statusText)}).finally(function(){this.isLoaded=!0})},update:function(){var t=this;this.updateLogs="",this.isUpdating=!0,this.rVersions.save().then(function(e){t.updateLogs=e.body,t.get()},function(e){e.body.message?t.updateLogs=e.body.message:console.log(e.status+" - "+e.statusText)}).finally(function(){this.isUpdating=!1})}},mounted:function(){this.get()}},Nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:"Home"},{link:"/about",icon:"fa-info-circle",text:"About",isActive:!0}]}})],1),t._v(" "),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v("About")]),t._v(" "),a("p",{staticClass:"subtitle has-text-grey"},[t._v("Own my money")]),t._v(" "),t.isLoaded?a("div",{staticClass:"content field is-grouped is-grouped-multiline"},[a("div",{staticClass:"control"},[a("div",{staticClass:"tags has-addons"},[a("span",{staticClass:"tag is-dark"},[t._v("Installed version")]),a("span",{staticClass:"tag",class:[t.isUpToDate?"is-success":"is-danger"]},[t._v(t._s(t.version.installed))])])]),t._v(" "),t.isUpToDate?t._e():a("div",{staticClass:"control"},[a("div",{staticClass:"tags has-addons"},[a("span",{staticClass:"tag is-dark"},[t._v("Latest version")]),a("span",{staticClass:"tag is-info"},[t._v(t._s(t.version.latest))])])]),t._v(" "),t._m(0)]):t._e(),t._v(" "),!t.isUpToDate&&this.user.scope.admin?a("section",{staticClass:"content"},[a("button",{staticClass:"button is-primary",class:{"is-loading":t.isUpdating},attrs:{disabled:t.isUpdating},on:{click:t.update}},[t._m(1),a("span",[t._v("Update to "+t._s(t.version.latest))])]),t._v(" "),t.updateLogs?a("pre",{staticClass:"section content"},t._l(t.updateLogs,function(e){return a("span",{staticClass:"is-block"},[t._v(t._s(t._f("moment")(e.timestamp,"HH:mm:ss"))+"   "+t._s(e.message))])})):t._e()]):t._e(),t._v(" "),t._m(2)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"control"},[e("a",{attrs:{href:"https://github.com/nioc/own-my-money/releases/latest",target:"_blank"}},[this._v("Changelog")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-wrench"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("p",[t._v("Own my money is a simple way to track your bank activity on any device connected to the web (pc, smartphone, tablet, ...).")]),t._v(" "),a("p",[t._v("If you have any issues or feature requests, please create an "),a("a",{attrs:{href:"https://github.com/nioc/own-my-money/issues",target:"_blank"}},[t._v("issue")]),t._v(".")]),t._v(" "),a("p",[t._v("This project is licensed under the "),a("a",{attrs:{href:"https://www.gnu.org/licenses/quick-guide-gplv3.html",target:"_blank"}},[t._v("GNU General Public License v3.0")]),t._v(".")])])}]},St=a("VU/8")($t,Nt,!1,null,null,null).exports;s.default.use(v.a);var Tt=new v.a({routes:[{path:"/",name:"home",component:kt,meta:{title:"Home"}},{path:"/setup",name:"setup",component:Lt,meta:{title:"Setup server"}},{path:"/about",name:"about",component:St,meta:{title:"About"}},{path:"/accounts",name:"accounts",component:C,meta:{title:"Accounts"}},{path:"/accounts/:id",name:"account",component:P,meta:{title:"Account :id"}},{path:"/login",name:"login",component:U,meta:{title:"Login"}},{path:"/profile",name:"profile",component:F,meta:{title:"Profile"}},{path:"/patterns",name:"patterns",component:J,meta:{title:"Patterns"}},{path:"/users",name:"users",component:Q,meta:{title:"Manage users"}},{path:"/maps",name:"maps",component:lt,meta:{title:"Edit maps"}},{path:"/maps/new",name:"newMap",component:ut,props:{isNew:!0},meta:{title:"Edit map :code"}},{path:"/maps/:code",name:"map",component:ut,props:{isNew:!1},meta:{title:"Edit map :code"}},{path:"/categories",name:"categories",component:rt,meta:{title:"Edit categories and subcategories"}},{path:"/categories/:id",name:"category",component:at,props:{isCategory:!0},meta:{title:"Edit categorie :id"}},{path:"/categories/:pid/subcategories/:id",name:"subcategory",component:at,props:{isCategory:!1},meta:{title:"Edit subcategorie :id"}}]}),Pt=a("8AgW"),Et=a.n(Pt),Dt=a("sUu7"),Ut=a("W1GH"),jt=a.n(Ut),qt=a("O3Oo"),Mt=a.n(qt),zt=(a("e0XP"),a("/8fb"),a("K5tM"),{install:function(t,e){var a=[{id:1,type:"CREDIT",datePosted:t.moment().subtract(1,"days"),dateUser:t.moment().subtract(1,"days"),amount:543,name:"SUNSHINE AUTOS IMPORT GARAGE",fitid:"5387240011638",memo:"",category:3,subcategory:33,note:"Car selling"},{id:2,type:"DEBIT",datePosted:t.moment().subtract(3,"days"),dateUser:t.moment().subtract(3,"days"),amount:-39.85,name:"LOS SANTOS CUSTOMS",fitid:"5387600307178",memo:"",category:1,subcategory:14,note:"Wheels"},{id:7,type:"DEBIT",datePosted:t.moment().subtract(3,"days"),dateUser:t.moment().subtract(3,"days"),amount:-250,name:"PEGASUS",fitid:"5387600307178",memo:"",category:1,subcategory:14,note:""},{id:3,type:"DEBIT",datePosted:t.moment().subtract(5,"days"),dateUser:t.moment().subtract(5,"days"),amount:-17,name:"PIZZA THIS",fitid:"5387600307179",memo:"",category:2,subcategory:20,note:"Lunch with Trevor"},{id:5,type:"CREDIT",datePosted:t.moment().subtract(6,"days"),dateUser:t.moment().subtract(6,"days"),amount:300,name:"MERRYWEATHER SECURITY",fitid:"5387600307179",memo:"",category:3,subcategory:32,note:""},{id:9,type:"DEBIT",datePosted:t.moment().subtract(6,"days"),dateUser:t.moment().subtract(6,"days"),amount:-39.99,name:"MORS MUTUAL INSURANCE",fitid:"5387600307180",memo:"",category:1,subcategory:13,note:""},{id:6,type:"CREDIT",datePosted:t.moment().subtract(8,"days"),dateUser:t.moment().subtract(8,"days"),amount:200,name:"TRANSFER FROM L. CREST",fitid:"5387600307180",memo:"",category:3,subcategory:32,note:"Mission success"},{id:8,type:"DEBIT",datePosted:t.moment().subtract(8,"days"),dateUser:t.moment().subtract(8,"days"),amount:-59,name:"VANILLA UNICORN",fitid:"5387600307179",memo:"",category:2,subcategory:null,note:""},{id:4,type:"DEBIT",datePosted:t.moment().subtract(15,"days"),dateUser:t.moment().subtract(15,"days"),amount:-28.5,name:"PONSONBY",fitid:"5387600307180",memo:"",category:5,subcategory:51,note:"hats"},{id:9,type:"DEBIT",datePosted:t.moment().subtract(18,"days"),dateUser:t.moment().subtract(18,"days"),amount:-60.5,name:"ARROW GASOLINE",fitid:"5387600307180",memo:"",category:1,subcategory:12,note:"Gasoil"}];function s(t,e){return t.reduce(function(t,a){var s=a[e];return t[s]||(t[s]=[]),t[s].push(a),t},{})}var i=[],r=s(a,"datePosted");for(var n in r){var l=s(r[n],"type");i.push({date:t.moment(n).format("YYYY-MM-DD"),debit:"DEBIT"in l?l.DEBIT.reduce(function(t,e){return t+e.amount},0):0,credit:"CREDIT"in l?l.CREDIT.reduce(function(t,e){return t+e.amount},0):0})}for(var c=t.moment().subtract(30,"days"),d=t.moment(),u=c;u<=d;)i.find(function(t){return t.date===u.format("YYYY-MM-DD")})||i.push({date:t.moment(u).format("YYYY-MM-DD"),debit:0,credit:0}),u.add(1,"days");i.sort(function(e,a){return t.moment(e.date)-t.moment(a.date)});var v=s(a,"type"),m=s(v.DEBIT,"category"),p=s(v.CREDIT,"category"),h=[];for(var f in m)h.push({key:f,amount:Math.abs(m[f].reduce(function(t,e){return t+e.amount},0))});var g=[];for(var b in p)g.push({key:b,amount:Math.abs(p[b].reduce(function(t,e){return t+e.amount},0))});var _=[{method:"POST",url:"users/tokens",response:{token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJtb25leSIsImV4cCI6MTc2MzEwNDEwMCwic3ViIjoxLCJsb2dpbiI6Ik1pY2hhZWwiLCJzdGF0dXMiOnRydWUsIm1haWwiOiJtQGV5ZWZpbmQuaW5mbyIsInNjb3BlIjoidXNlciBhZG1pbiJ9.SN3ucVwQTuRwqThqW092Yz8z0cVYoGWLrK8AzMo7nfE"}},{method:"GET",url:"users",response:[{sub:1,login:"Michael",status:!0,mail:"m@eyefind.info",scope:"user admin"},{sub:2,login:"Trevor",status:!1,mail:"tpi@eyefind.info",scope:"user"},{sub:3,login:"Franklin",status:!0,mail:"frankie@eyefind.info",scope:"user"}]},{method:"PUT",url:"users/1",response:{sub:1,login:"Michael",status:!0,mail:"m@eyefind.info",scope:"user admin"}},{method:"PUT",url:"users/2",response:{sub:1,login:"Trevor",status:!1,mail:"tpi@eyefind.info",scope:"user"}},{method:"PUT",url:"users/3",response:{sub:1,login:"Franklin",status:!0,mail:"frankie@eyefind.info",scope:"user"}},{method:"GET",url:"users/1/tokens",response:[{creation:t.moment().subtract(1,"days"),ip:"10.0.0.2",userAgent:"Mozilla/5.0 (X11; Linux x86_64; rv:63.0) Gecko/20100101 Firefox/63.0"},{creation:t.moment().subtract(41242,"minutes"),ip:"10.0.0.13",userAgent:"Mozilla/5.0 (Android 8.0.0; Mobile; rv:63.0) Gecko/63.0 Firefox/63.0"},{creation:t.moment().subtract(1044887,"seconds"),ip:"10.0.0.14",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53"}]},{method:"GET",url:"transactions",response:a},{method:"GET",url:"transactions/history",response:{values:i,periodStart:t.moment().subtract(30,"days"),periodEnd:t.moment()}},{method:"GET",url:"transactions/distribution/credit/categories",response:{values:g,periodStart:t.moment().subtract(30,"days"),periodEnd:t.moment(),type:"credit",key:"categories"}},{method:"GET",url:"transactions/distribution/debit/categories",response:{values:h,periodStart:t.moment().subtract(30,"days"),periodEnd:t.moment(),type:"debit",key:"categories"}},{method:"GET",url:"accounts",response:[{id:1,user:"1",bankId:"14000",branchId:"00170",accountId:"02437797004",label:"Maze Bank",balance:1635,lastUpdate:t.moment()}]},{method:"GET",url:"accounts/1",response:{id:1,user:"1",bankId:"14000",branchId:"00170",accountId:"02437797004",label:"Maze Bank",balance:1635,lastUpdate:t.moment()}},{method:"GET",url:"accounts/1/transactions",response:a},{method:"GET",url:"setup/versions/latest",response:{installed:"0.3.2",latest:"0.3.2"}},{method:"GET",url:"categories",response:[{id:1,label:"Transports",status:!0,icon:"fa-train",sub:[{id:11,label:"Public transports",status:!0,icon:null,parentId:1},{id:12,label:"Fuels",status:!0,icon:null,parentId:1},{id:13,label:"Insurance",status:!0,icon:null,parentId:1},{id:14,label:"Maintenance",status:!0,icon:null,parentId:1}]},{id:2,label:"Hobbies",status:!0,icon:"fa-beer",sub:[{id:20,label:"Restaurant",status:!0,icon:null,parentId:2},{id:21,label:"Drink",status:!0,icon:null,parentId:2}]},{id:3,label:"Income",status:!0,icon:"fa-briefcase",sub:[{id:31,label:"Wages",status:!0,icon:null,parentId:3},{id:32,label:"Reward",status:!0,icon:null,parentId:3},{id:33,label:"Sells",status:!0,icon:null,parentId:3},{id:34,label:"Gifts",status:!1,icon:null,parentId:3}]},{id:4,label:"Home",status:!0,icon:"fa-home",sub:[{id:41,label:"Insurance",status:!0,icon:null,parentId:4},{id:42,label:"Rent",status:!0,icon:null,parentId:4},{id:43,label:"Mortgage",status:!1,icon:null,parentId:4},{id:44,label:"Furnishing",status:!0,icon:null,parentId:4},{id:45,label:"Electricity",status:!0,icon:null,parentId:4},{id:46,label:"Water",status:!0,icon:null,parentId:4},{id:47,label:"Internet",status:!0,icon:null,parentId:4}]},{id:5,label:"Clothing",status:!0,icon:"fa-user-secret",sub:[{id:51,label:"Clothes",status:!0,icon:null,parentId:5},{id:52,label:"Shoes",status:!0,icon:null,parentId:5}]}]},{method:"GET",url:"patterns",response:[{id:1,label:"MORS MUTUAL INSURANCE",category:1,subcategory:13},{id:2,label:"LOS SANTOS CUSTOMS*",category:1,subcategory:13},{id:2,label:"PONSONBY*",category:5,subcategory:51}]}];t.http.interceptors.push(function(t){var e=t.getUrl(),a=_.find(function(a){return t.method===a.method&&e===o+a.url});return a?t.respondWith(a.response,{status:200}):(console.log(e),t.respondWith({status:404,statusText:"Not found"}))})}});s.default.config.productionTip=!1,s.default.use(x.a),s.default.use(Dt.a),s.default.use(Et.a),s.default.use(Mt.a,{defaultIconPack:"fa",defaultFirstDayOfWeek:1,defaultDateParser:function(t){return s.default.moment(t,"DD-MM-YYYY").toDate()}}),s.default.use(zt),delete s.default.http.headers.common.Authorization;var Bt=l.getAuthHeader();Bt&&(s.default.http.headers.common.Authorization=Bt),Tt.beforeEach(function(t,e,a){if(l.getToken(),!l.user.authenticated&&"login"!==t.name&&"setup"!==t.name)return l.logout(),n.$emit("user-logged",{}),void a("/login?redirect="+t.fullPath);if(t.meta.title){var s=t.meta.title,i=t.params;for(var r in i)s=s.replace(":"+r,i[r]);document.title=s+" | OwnMyMoney"}var o=document.getElementById("navbar-burger");o&&(o.classList.remove("is-active"),document.getElementById("navbar-menu").classList.remove("is-active")),a()}),s.default.http.interceptors.push(function(t,e){e(function(t){return 401===t.status&&-1===Tt.currentRoute.fullPath.search(/^\/login/)&&(l.logout(),n.$emit("user-logged",{}),Tt.replace({name:"login",query:{redirect:Tt.currentRoute.fullPath}})),t})}),s.default.filter("currency",function(t){return jt.a.formatMoney(t,{symbol:"€",decimal:",",thousand:" ",precision:2,format:"%v %s"})}),new s.default({el:"#money",router:Tt,components:{App:u},template:"<App/>"})},RgOD:function(t,e){},bAts:function(t,e){},e0XP:function(t,e){},uslO:function(t,e,a){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return a(r(t))}function r(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.38eed39b1c91f3416ba0.js.map