(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)n=o[u],i[n]&&m.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/own-my-money/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"039a":function(t,e,a){"use strict";var s=a("3760"),i=a.n(s);i.a},1:function(t,e){},"29d6":function(t,e,a){"use strict";var s=a("f4de"),i=a.n(s);i.a},"2fc4":function(t,e,a){},3760:function(t,e,a){},"3f5f":function(t,e,a){"use strict";var s=a("6062"),i=a.n(s);i.a},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return a(e)}function r(t){var e=s[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("386d"),a("a481"),a("7f7f");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.user.authenticated?s("nav",{staticClass:"navbar is-dark is-fixed-top"},[s("div",{staticClass:"navbar-brand"},[s("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[s("img",{attrs:{src:a("d803")}}),t._v(" OwnMyMoney")]),s("a",{staticClass:"navbar-burger",attrs:{role:"button",id:"navbar-burger","aria-label":"menu","aria-expanded":"false"},on:{click:t.toggleMenu}},[s("span",{staticClass:"is-primary",attrs:{"aria-hidden":"true"}}),s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{"aria-hidden":"true"}})])],1),s("div",{staticClass:"navbar-menu",attrs:{id:"navbar-menu"}},[s("div",{staticClass:"navbar-start"},[s("router-link",{staticClass:"navbar-item",attrs:{to:"/accounts"}},[s("i",{staticClass:"fa fa-table fa-fw"}),t._v(" "+t._s(t.$tc("objects.account",2)))])],1),s("div",{staticClass:"navbar-end"},[this.user.scope.admin?s("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[s("a",{staticClass:"navbar-link"},[s("i",{staticClass:"fa fa-wrench fa-fw"}),t._v(" "+t._s(t.$t("labels.systemSettings")))]),s("div",{staticClass:"navbar-dropdown is-right"},[s("router-link",{staticClass:"navbar-item",attrs:{to:"/categories"}},[s("i",{staticClass:"fa fa-folder-open-o fa-fw"}),t._v(" "+t._s(t.$tc("objects.category",2)))]),s("router-link",{staticClass:"navbar-item",attrs:{to:"/maps"}},[s("i",{staticClass:"fa fa-random fa-fw"}),t._v(" "+t._s(t.$tc("objects.transactionMapping",2)))]),s("router-link",{staticClass:"navbar-item",attrs:{to:"/users"}},[s("i",{staticClass:"fa fa-users fa-fw"}),t._v(" "+t._s(t.$tc("objects.user",2)))])],1)]):t._e(),s("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[s("a",{staticClass:"navbar-link"},[s("i",{staticClass:"fa fa-globe fa-fw"}),t._v(" "+t._s(t.$t("labels.language")))]),s("div",{staticClass:"navbar-dropdown is-right"},[s("a",{staticClass:"navbar-item",class:{"router-link-exact-active":"en"===this.$i18n.locale},on:{click:function(e){return t.setLocale("en")}}},[t._v("English")]),s("a",{staticClass:"navbar-item",class:{"router-link-exact-active":"fr"===this.$i18n.locale},on:{click:function(e){return t.setLocale("fr")}}},[t._v("Français")])])]),s("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[s("a",{staticClass:"navbar-link"},[s("i",{staticClass:"fa fa-user fa-fw"}),t._v(" "+t._s(this.user.login))]),s("div",{staticClass:"navbar-dropdown is-right"},[s("router-link",{staticClass:"navbar-item",attrs:{to:"/profile"}},[s("i",{staticClass:"fa fa-user-circle fa-fw"}),t._v(" "+t._s(t.$t("labels.profile")))]),s("router-link",{staticClass:"navbar-item",attrs:{to:"/patterns"}},[s("i",{staticClass:"fa fa-magic fa-fw"}),t._v(" "+t._s(t.$tc("objects.pattern",2)))]),s("hr",{staticClass:"navbar-divider"}),s("router-link",{staticClass:"navbar-item",attrs:{to:"/about"}},[s("i",{staticClass:"fa fa-info-circle fa-fw"}),t._v(" "+t._s(t.$t("labels.about")))]),s("a",{staticClass:"navbar-item",attrs:{href:"https://github.com/nioc/own-my-money/issues/new",target:"_blank"}},[s("i",{staticClass:"fa fa-bug fa-fw"}),t._v(" "+t._s(t.$t("labels.reportABug")))]),s("hr",{staticClass:"navbar-divider"}),s("a",{staticClass:"navbar-item",on:{click:function(e){return t.logout()}}},[s("i",{staticClass:"fa fa-sign-out fa-fw"}),t._v(" "+t._s(t.$t("labels.logout")))])],1)])])])]):t._e(),s("router-view",{key:t.$route.fullPath})],1)},r=[],n=a("f499"),o=a.n(n),l=(a("673e"),a("0a0d")),c=a.n(l),d=(a("28a5"),a("ac6a"),new s["default"]),u={API_URL:"/server/api/"},m={user:{authenticated:!1,token:null,id:null,login:null},login:function(t,e,a){var s=this;t.$http.post(u.API_URL+"users/tokens",e).then(function(e){s.handleToken(e.body),d.$emit("user-logged",s.user),a?t.$router.replace(a):t.$router.replace({name:"home"})},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText})},logout:function(){return localStorage.removeItem("user"),this.user.authenticated=!1,delete s["default"].http.headers.common["Authorization"],this.user={},this.user},getAuthHeader:function(){var t=this.getToken();return t?"Bearer "+t:null},populate:function(t){if(t){this.user.token=t.token,this.user.id=t.id,this.user.login=t.login,this.user.mail=t.mail;var e={};t.scope&&t.scope.split(" ").forEach(function(t){e[t]=!0}),this.user.scope=e,this.user.exp=t.exp,this.user.authenticated=t.exp>Math.floor(c()()/1e3)}},handleToken:function(t){if(!t||!t.token)return!1;var e=t.token.split(".");if(3!==e.length)return!1;try{var a=JSON.parse(atob(e[1]));return a.token=t.token,a.id=a.sub,delete a.sub,localStorage.setItem("user",o()(a)),this.populate(a),s["default"].http.headers.common["Authorization"]=this.getAuthHeader(),!0}catch(i){return console.error(i),!1}},getProfile:function(){return!!this.getToken()&&JSON.parse(o()(this.user))},getToken:function(){try{var t=JSON.parse(localStorage.getItem("user"));return this.populate(t),this.user.token}catch(e){return console.error(e),!1}}},p={name:"app",data:function(){return{user:m.getProfile()}},methods:{logout:function(){this.user=m.logout(),this.$router.replace({name:"login"})},toggleMenu:function(t){t.target.classList.toggle("is-active"),document.getElementById("navbar-menu").classList.toggle("is-active")},setLocale:function(t){var e=this;s["default"].http.headers.common["Accept-Language"]=t,document.querySelector("html").setAttribute("lang",t),this.$i18n.locale=t,this.$moment.locale(t);var a=this.$moment.localeData();this.$buefy.setOptions({defaultIconPack:"fa",defaultFirstDayOfWeek:a.firstDayOfWeek(),defaultMonthNames:a.months(),defaultDayNames:a.weekdaysMin(),defaultDateFormatter:function(t){return e.$moment(t,"L").format("L")}})}},mounted:function(){var t=this;d.$on("user-logged",function(e){t.user=e})}},h=p,v=a("2877"),f=Object(v["a"])(h,i,r,!1,null,null,null),b=f.exports,g=a("8c4f"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:this.$t("labels.home")},{link:"/accounts",icon:"fa-table",text:this.$tc("objects.account",2),isActive:!0}]}})],1),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v(t._s(t.$tc("objects.account",2)))]),t.error?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e(),t.accounts.length?a("div",{staticClass:"table-container"},[a("table",{staticClass:"table is-striped is-hoverable is-fullwidth"},[a("thead",[a("tr",[a("th",[t._v(t._s(t.$tc("objects.account",1)))]),a("th",[t._v(t._s(t.$t("fieldnames.updated")))])])]),a("tbody",t._l(t.accounts,function(e){return a("tr",{key:e.id},[a("td",[a("router-link",{attrs:{to:{name:"account",params:{id:e.id}}}},[t._v(t._s(e.bankId)+" "+t._s(e.branchId)+" "+t._s(e.accountId)),e.label?a("span",[t._v(" ("+t._s(e.label)+")")]):t._e()])],1),e.lastUpdate?a("td",[t._v(t._s(t._f("moment")(e.lastUpdate,"from","now")))]):a("td")])}),0)])]):a("div",[a("p",[t._v(t._s(t.$t("labels.noAccount")))])]),a("div",{staticClass:"field is-grouped"},[a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary",attrs:{role:"button"},on:{click:function(e){t.isCreateAccountModalActive=!0}}},[a("i",{staticClass:"fa fa-plus"}),t._v(" "+t._s(t.$t("actions.addAccount")))])]),a("p",{staticClass:"control"},[a("b-field",{staticClass:"file"},[a("b-upload",{attrs:{disabled:t.upload.isUploading},on:{input:t.uploadDataset},model:{value:t.upload.file,callback:function(e){t.$set(t.upload,"file",e)},expression:"upload.file"}},[a("a",{staticClass:"button is-primary"},[a("b-icon",{attrs:{icon:"upload"}}),a("span",[t._v(t._s(t.$t("actions.uploadOfx")))])],1)]),t.upload.file?a("span",{staticClass:"file-name"},[t._v("\n              "+t._s(t.upload.file.name)+" ("+t._s(t.$tc("objects.byte",t.upload.file.size))+")\n            ")]):t._e()],1)],1)]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-body"},[t.upload.result?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n              "+t._s(t.upload.result)+"\n            ")])]):t._e()])]),a("b-modal",{attrs:{active:t.isCreateAccountModalActive,"has-modal-card":"",scroll:"keep"},on:{"update:active":function(e){t.isCreateAccountModalActive=e}}},[a("create-account")],1),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])},C=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box is-radiusless has-background-white-bis"},[a("nav",{staticClass:"breadcrumb container",attrs:{"aria-label":"breadcrumbs"}},[a("ul",t._l(t.items,function(e){return a("li",{key:e.text,class:{"is-active":e.isActive}},[a("router-link",{attrs:{to:e.link}},[e.icon?a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fa",class:e.icon,attrs:{"aria-hidden":"true"}})]):t._e(),a("span",{class:{"is-hidden-mobile":e.icon}},[t._v(t._s(e.text))])])],1)}),0)])])},w=[],$={props:{items:{type:Array,required:!0}}},x=$,k=(a("29d6"),Object(v["a"])(x,_,w,!1,null,null,null)),A=k.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v(t._s(t.$t("actions.addAccount")))])]),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.bankIdentifier")))]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.bankId,expression:"account.bankId"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("bankIdentifier")},attrs:{type:"text",name:"bankIdentifier",placeholder:t.$t("fieldnames.bankIdentifier")},domProps:{value:t.account.bankId},on:{input:function(e){e.target.composing||t.$set(t.account,"bankId",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("bankIdentifier"),expression:"errors.has('bankIdentifier')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("bankIdentifier")))])])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.branchIdentifier")))]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.branchId,expression:"account.branchId"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("branchIdentifier")},attrs:{type:"text",name:"branchIdentifier",placeholder:t.$t("fieldnames.branchIdentifier")},domProps:{value:t.account.branchId},on:{input:function(e){e.target.composing||t.$set(t.account,"branchId",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("branchIdentifier"),expression:"errors.has('branchIdentifier')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("branchIdentifier")))])])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.accountIdentifier")))]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.accountId,expression:"account.accountId"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("accountIdentifier")},attrs:{type:"text",name:"accountIdentifier",placeholder:t.$t("fieldnames.accountIdentifier")},domProps:{value:t.account.accountId},on:{input:function(e){e.target.composing||t.$set(t.account,"accountId",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("accountIdentifier"),expression:"errors.has('accountIdentifier')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("accountIdentifier")))])])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.label")))]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.label,expression:"account.label"},{name:"validate",rawName:"v-validate",value:"max:30",expression:"'max:30'"}],staticClass:"input",class:{"is-danger":t.errors.has("label")},attrs:{type:"text",name:"label",placeholder:t.$t("fieldnames.label")},domProps:{value:t.account.label},on:{input:function(e){e.target.composing||t.$set(t.account,"label",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("label")))])])]),t.error?a("div",{staticClass:"message is-danger block"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e()]),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-primary"},[t._v(t._s(t.$t("actions.create")))]),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v(t._s(t.$t("actions.cancel")))])]),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])},L=[],P={data:function(){return{account:{},error:"",isLoading:!1,rAccounts:this.$resource(u.API_URL+"accounts{/id}")}},methods:{validateBeforeSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.isLoading=!0,t.rAccounts.save(t.account).then(function(e){t.$parent.$parent.getAccounts(),t.$parent.close()},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1}))})}}},S=P,j=Object(v["a"])(S,I,L,!1,null,null,null),T=j.exports,D={name:"accounts",components:{Breadcrumb:A,CreateAccount:T},data:function(){return{accounts:[],error:"",isCreateAccountModalActive:!1,isLoading:!1,upload:{file:null,isUploading:!1,result:""},rAccounts:this.$resource(u.API_URL+"accounts{/id}"),rDatasets:this.$resource(u.API_URL+"dataset")}},methods:{getAccounts:function(){var t=this;this.isLoading=!0,this.rAccounts.query().then(function(e){t.accounts=e.body},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})},uploadDataset:function(){var t=this;this.upload.result="";var e=this.upload.file,a=new FormData;a.append("Content-Type",e.type||"application/octet-stream"),a.append("file",e),e.size>8e7?this.upload.result=this.$t("labels.fileTooBig"):(this.upload.isUploading=!0,this.isLoading=!0,this.rDatasets.save({},a).then(function(e){e.body.message&&(t.upload.result=e.body.message),t.getAccounts()},function(e){e.body.message?t.upload.result=e.body.message:t.upload.result=e.status+" - "+e.statusText}).finally(function(){this.upload.isUploading=!1,this.isLoading=!1}))}},mounted:function(){this.getAccounts()}},N=D,E=Object(v["a"])(N,y,C,!1,null,null,null),M=E.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:this.$t("labels.home")},{link:"/accounts",icon:"fa-table",text:this.$tc("objects.account",2)},{link:"/accounts",text:t.accountTitle,isActive:!0}]}})],1),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v(t._s(t.$tc("objects.account",1))+" "+t._s(t.accountTitle))]),a("b-tabs",{attrs:{type:"is-boxed",animated:!1}},[a("b-tab-item",{staticClass:"has-half-margin-mobile",attrs:{label:t.$tc("objects.transaction",2),icon:"file-text-o"}},[a("transactions",{attrs:{url:t.url}}),a("div",{staticClass:"field is-grouped"},[a("p",{staticClass:"control"},[a("b-field",{staticClass:"file"},[a("b-upload",{attrs:{disabled:t.upload.isUploading},on:{input:t.uploadDataset},model:{value:t.upload.file,callback:function(e){t.$set(t.upload,"file",e)},expression:"upload.file"}},[a("a",{staticClass:"button is-primary"},[a("b-icon",{attrs:{icon:"upload"}}),a("span",[t._v(t._s(t.$t("actions.uploadOfxJson")))])],1)]),t.upload.file?a("span",{staticClass:"file-name"},[t._v("\n                  "+t._s(t.upload.file.name)+" ("+t._s(t.$tc("objects.byte",t.upload.file.size))+")\n                ")]):t._e()],1)],1),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.upload.map,expression:"upload.map"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.upload,"map",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- JSON Map --")]),t._l(t.maps,function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.label))])})],2)])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-body"},[t.upload.result?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n                  "+t._s(t.upload.result)+"\n                ")])]):t._e()])])],1),a("b-tab-item",{attrs:{label:t.$t("actions.edit"),icon:"pencil"}},[a("form",{staticClass:"section is-max-width-form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateUpdateBeforeSubmit(e)}}},[a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.bankIdentifier")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedAccount.bankId,expression:"updatedAccount.bankId"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("bankIdentifier")},attrs:{type:"text",name:"bankIdentifier",placeholder:t.$t("fieldnames.bankIdentifier")},domProps:{value:t.updatedAccount.bankId},on:{input:function(e){e.target.composing||t.$set(t.updatedAccount,"bankId",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("bankIdentifier"),expression:"errors.has('bankIdentifier')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("bankIdentifier")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.branchIdentifier")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedAccount.branchId,expression:"updatedAccount.branchId"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("branchIdentifier")},attrs:{type:"text",name:"branchIdentifier",placeholder:t.$t("fieldnames.branchIdentifier")},domProps:{value:t.updatedAccount.branchId},on:{input:function(e){e.target.composing||t.$set(t.updatedAccount,"branchId",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("branchIdentifier"),expression:"errors.has('branchIdentifier')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("branchIdentifier")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.accountIdentifier")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedAccount.accountId,expression:"updatedAccount.accountId"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("accountIdentifier")},attrs:{type:"text",name:"accountIdentifier",placeholder:t.$t("fieldnames.accountIdentifier")},domProps:{value:t.updatedAccount.accountId},on:{input:function(e){e.target.composing||t.$set(t.updatedAccount,"accountId",e.target.value)}}}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("accountIdentifier"),expression:"errors.has('accountIdentifier')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("accountIdentifier")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.label")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedAccount.label,expression:"updatedAccount.label"},{name:"validate",rawName:"v-validate",value:"max:30",expression:"'max:30'"}],staticClass:"input",class:{"is-danger":t.errors.has("label")},attrs:{type:"text",name:"label",placeholder:t.$t("fieldnames.label")},domProps:{value:t.updatedAccount.label},on:{input:function(e){e.target.composing||t.$set(t.updatedAccount,"label",e.target.value)}}}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("label")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("button",{staticClass:"button is-primary",attrs:{type:"submit",role:"button"}},[a("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("actions.save")))]),a("button",{staticClass:"button is-danger",attrs:{type:"button",role:"button"},on:{click:t.deleteAccount}},[a("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("actions.delete")))])])])])]),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading}})],1)],1)],1)])])},q=[],O=a("e814"),B=a.n(O),R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-collapse",{staticClass:"card",attrs:{open:t.search.isActive},on:{"update:open":function(e){return t.$set(t.search,"isActive",e)}}},[a("div",{staticClass:"card-header",attrs:{slot:"trigger"},slot:"trigger"},[a("span",{staticClass:"card-header-icon"},[a("i",{staticClass:"fa",class:t.search.isActive?"fa-angle-down":"fa-angle-right"})]),a("p",{staticClass:"card-header-title"},[t._v(t._s(t.$t("labels.searchTransactions")))])]),a("div",{staticClass:"card-content"},[a("div",{staticClass:"field is-grouped is-grouped-multiline is-block-mobile"},[a("div",{staticClass:"control has-icons-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.query,expression:"search.query"}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("labels.findATransaction")},domProps:{value:t.search.query},on:{input:function(e){e.target.composing||t.$set(t.search,"query",e.target.value)}}}),a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fa fa-search"})])]),a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:"Start date",icon:"calendar",editable:"","max-date":t.search.currentDate},model:{value:t.search.startDate,callback:function(e){t.$set(t.search,"startDate",e)},expression:"search.startDate"}})],1),a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:"End date",icon:"calendar",editable:"","max-date":t.search.currentDate},model:{value:t.search.endDate,callback:function(e){t.$set(t.search,"endDate",e)},expression:"search.endDate"}})],1),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.category,expression:"search.category"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.search,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$tc("objects.category",1))+" --")]),t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])]),t.search.category&&t.categoriesAndSubcategoriesLookup[t.search.category].sub.length>0?a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.subcategory,expression:"search.subcategory"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.search,"subcategory",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$tc("objects.subcategory",1))+" --")]),t._l(t.categoriesAndSubcategoriesLookup[t.search.category].sub,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])]):t._e()])])]),a("b-collapse",{staticClass:"card",attrs:{open:t.batch.isActive},on:{"update:open":function(e){return t.$set(t.batch,"isActive",e)}}},[a("div",{staticClass:"card-header",attrs:{slot:"trigger"},slot:"trigger"},[a("span",{staticClass:"card-header-icon"},[a("i",{staticClass:"fa",class:t.batch.isActive?"fa-angle-down":"fa-angle-right"})]),a("p",{staticClass:"card-header-title"},[t._v(t._s(t.$t("labels.batchUpdates")))])]),a("div",{staticClass:"card-content"},[a("div",{staticClass:"field is-grouped is-grouped-multiline"},[a("div",{staticClass:"control"},[a("div",{staticClass:"input is-static"},[t._v(t._s(t.$tc("objects.transactionsSelected",t.batch.checkedTransactions.length))+" ("+t._s(t.$n(t.transactionsCheckedSum,"currency"))+")")])]),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.batch.category,expression:"batch.category"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.batch,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$tc("objects.category",1))+" --")]),t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])]),t.batch.category&&t.categoriesAndSubcategoriesLookup[t.batch.category].sub.length>0?a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.batch.subcategory,expression:"batch.subcategory"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.batch,"subcategory",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$tc("objects.subcategory",1))+" --")]),t._l(t.categoriesAndSubcategoriesLookup[t.batch.category].sub,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])]):t._e(),a("div",{staticClass:"control"},[a("button",{staticClass:"button is-primary",class:{"is-loading":t.batch.isLoading},attrs:{disabled:t.batch.isLoading},on:{click:t.processBatchUpdate}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-cogs"})]),a("span",[t._v(t._s(t.$t("actions.apply")))])])]),a("div",{staticClass:"control"},[a("button",{staticClass:"button is-light",attrs:{disabled:t.batch.isLoading},on:{click:t.selectAll}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-check-square-o"})]),a("span",[t._v(t._s(t.$t("actions.selectAll")))])])]),a("div",{staticClass:"control"},[a("button",{staticClass:"button is-light",attrs:{disabled:t.batch.isLoading},on:{click:t.selectNone}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-square-o"})]),a("span",[t._v(t._s(t.$t("actions.clear")))])])])]),a("div",{staticClass:"field is-block-mobile"},[a("progress",{staticClass:"progress",attrs:{max:"1"},domProps:{value:t.batch.progress}},[t._v(t._s(t.batch.progress)+" %")])]),a("div",{staticClass:"field"},[t.batch.result?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n            "+t._s(t.batch.result)+"\n          ")])]):t._e()])])]),a("b-table",{attrs:{data:t.displayedTransactions,paginated:!0,striped:!0,hoverable:!0,loading:t.isLoading,"default-sort":"datePosted","default-sort-direction":"desc",checkable:t.batch.isActive,"checked-rows":t.batch.checkedTransactions},on:{select:t.edit,"update:checkedRows":function(e){return t.$set(t.batch,"checkedTransactions",e)},"update:checked-rows":function(e){return t.$set(t.batch,"checkedTransactions",e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"amount",label:t.$t("fieldnames.amount"),sortable:"",numeric:""}},[a("span",{class:[e.row.amount<0?"has-text-danger":"has-text-primary"]},[t._v(t._s(t.$n(e.row.amount,"currency")))])]),a("b-table-column",{attrs:{field:"name",label:t.$t("fieldnames.label"),sortable:""}},[t._v("\n        "+t._s(e.row.fullname)),e.row.note?a("span",{staticClass:"has-text-grey"},[t._v(" | "+t._s(e.row.note))]):t._e()]),a("b-table-column",{attrs:{field:"datePosted",label:t.$t("fieldnames.date"),sortable:""}},[t._v("\n        "+t._s(t._f("moment")(e.row.datePosted,"L"))+"\n      ")]),a("b-table-column",{attrs:{field:"category",label:t.$tc("objects.category",1),sortable:""}},[t._v("\n        "+t._s(e.row.categoryLabel)),e.row.subcategory?a("span",[t._v(" / "+t._s(e.row.subcategoryLabel))]):t._e()])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[t._v(t._s(t.$t("labels.nothingToDisplay")))])])])])],2),a("b-modal",{attrs:{active:t.modalTransaction.isActive,"has-modal-card":"",scroll:"keep"},on:{"update:active":function(e){return t.$set(t.modalTransaction,"isActive",e)}}},[a("transaction",{attrs:{transaction:t.modalTransaction.transaction,rTransactions:t.rTransactions}})],1)],1)},z=[],F=a("5d73"),G=a.n(F),J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v(t._s(t.$tc("objects.transaction",1)))])]),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.label")))]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.name,expression:"transaction.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"input",class:{"is-danger":t.errors.has("label")},attrs:{type:"text",name:"label",placeholder:t.$t("fieldnames.label")},domProps:{value:t.transaction.name},on:{input:function(e){e.target.composing||t.$set(t.transaction,"name",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("label")))])])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.amount")))]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.amount,expression:"transaction.amount"},{name:"validate",rawName:"v-validate",value:"required|decimal:2",expression:"'required|decimal:2'"}],staticClass:"input",class:{"is-danger":t.errors.has("amount")},attrs:{type:"number",name:"amount",placeholder:t.$t("fieldnames.amount")},domProps:{value:t.transaction.amount},on:{input:function(e){e.target.composing||t.$set(t.transaction,"amount",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("amount"),expression:"errors.has('amount')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("amount")))])])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.date")))]),a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:t.$t("fieldnames.date"),icon:"calendar",readonly:!1,"max-date":t.currentDate},model:{value:t.dateUser,callback:function(e){t.dateUser=e},expression:"dateUser"}})],1)]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.note")))]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.note,expression:"transaction.note"},{name:"validate",rawName:"v-validate",value:"max:30",expression:"'max:30'"}],staticClass:"input",class:{"is-danger":t.errors.has("note")},attrs:{type:"text",name:"note",placeholder:t.$t("fieldnames.note")},domProps:{value:t.transaction.note},on:{input:function(e){e.target.composing||t.$set(t.transaction,"note",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("note"),expression:"errors.has('note')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("note")))])])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$tc("objects.category",1)))]),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.transaction.category,expression:"transaction.category"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.transaction,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$tc("objects.category",1))+" --")]),t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])])]),t.transaction.category&&t.categoriesAndSubcategoriesLookup[t.transaction.category]&&t.categoriesAndSubcategoriesLookup[t.transaction.category].sub.length>0?a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$tc("objects.subcategory",1)))]),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.transaction.subcategory,expression:"transaction.subcategory"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.transaction,"subcategory",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$tc("objects.subcategory",1))+" --")]),t._l(t.categoriesAndSubcategoriesLookup[t.transaction.category].sub,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])])]):t._e(),t.error?a("div",{staticClass:"message is-danger block"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e()]),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-primary"},[t._v(t._s(t.$t("actions.save")))]),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v(t._s(t.$t("actions.cancel")))])]),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])},H=[],W=a("59ad"),Y=a.n(W),V=a("28dd");s["default"].use(V["a"]);var X,Z,K,Q,tt={data:function(){return{categories:[],categoriesAndSubcategoriesLookup:[],rCategories:s["default"].resource(u.API_URL+"categories{/id}")}},methods:{handleResponse:function(t){function e(t){for(var e=[],a=0;a<t.length;a++){var s=t[a];e[s.id]=s;for(var i=0;i<s.sub.length;i++){var r=s.sub[i];e[r.id]=r}}return e}this.categories=t,this.categoriesAndSubcategoriesLookup=e(this.categories)},getCategories:function(t){var e=this,a="categoriesActives",s={};t&&(a="categories"),localStorage.getItem(a)?this.handleResponse(JSON.parse(localStorage.getItem(a))):this.rCategories.query(s).then(function(t){e.handleResponse(t.body),localStorage.setItem(a,o()(e.categories))},function(t){console.error(t)})}}},et={props:["rTransactions","transaction"],mixins:[tt],data:function(){return{error:"",isLoading:!1,currentDate:new Date,rCategories:this.$resource(u.API_URL+"categories{/id}")}},computed:{dateUser:{get:function(){return this.$moment(this.transaction.dateUser).toDate()},set:function(t){this.transaction.dateUser=this.$moment(t).format()}}},methods:{validateBeforeSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.isLoading=!0,t.transaction.amount=Y()(t.transaction.amount),t.rTransactions.update({id:t.transaction.id},t.transaction).then(function(e){t.$parent.close()},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}))})}},watch:{"transaction.category":function(){this.transaction.subcategory=""}},mounted:function(){this.getCategories(!1)}},at=et,st=Object(v["a"])(at,J,H,!1,null,null,null),it=st.exports,rt={name:"transactions",components:{Transaction:it},props:["url"],mixins:[tt],data:function(){var t=new Date;return t.setHours(0,0,0),{transactions:[],isLoading:!1,batch:{isActive:!1,isLoading:!1,progress:0,result:"",checkedTransactions:[],category:"",subcategory:""},search:{isActive:!1,query:"",currentDate:t,startDate:new Date(t.getFullYear(),t.getMonth(),t.getDate()-30),endDate:t,category:"",subcategory:""},modalTransaction:{isActive:!1,transaction:{}},rTransactions:this.$resource(this.url)}},computed:{displayedTransactions:function(){var t=this,e=this.search.query,a=this.search.startDate,s=this.search.endDate,i=this.search.category,r=this.search.subcategory,n=this.transactions;return n.map(function(e){return e.categoryLabel=e.category in t.categoriesAndSubcategoriesLookup?t.categoriesAndSubcategoriesLookup[e.category].label:null,e.subcategoryLabel=e.subcategory in t.categoriesAndSubcategoriesLookup?t.categoriesAndSubcategoriesLookup[e.subcategory].label:null,e.fullname=e.memo?e.memo+" "+e.name:e.name,e}),n.filter(function(t){return(t.note+t.fullname).toLowerCase().indexOf(e.toLowerCase())>-1&new Date(Date.parse(t.datePosted))>=a&new Date(Date.parse(t.datePosted))<=s&(!i||t.category===i)&(!r||t.subcategory===r)})},transactionsCheckedSum:function(){return this.batch.checkedTransactions.length>0?this.batch.checkedTransactions.reduce(function(t,e){return t+e.amount},0):0}},methods:{get:function(){var t=this;this.isLoading=!0,this.rTransactions.query({}).then(function(e){t.transactions=e.body},function(t){console.error(t)}).finally(function(){this.isLoading=!1})},edit:function(t){if(this.batch.isActive){var e=this.batch.checkedTransactions.indexOf(t);e>-1?this.batch.checkedTransactions.splice(e,1):this.batch.checkedTransactions.push(t)}else this.modalTransaction.transaction=t,this.modalTransaction.isActive=!0},processBatchUpdate:function(){var t=this,e=this.batch.checkedTransactions.length;e>0&&function(){t.batch.isLoading=!0,t.batch.progress=0;var a=0,s=t.batch.category,i=t.batch.subcategory;t.batch.result="";var r=!0,n=!1,o=void 0;try{for(var l,c=function(){var r=l.value;s&&(r.category=s,i&&(r.subcategory=i)),t.rTransactions.update({id:r.id},r).then(function(t){},function(e){e.body.message?t.batch.result+=r.id+" : "+e.body.message+". ":t.batch.result+=r.id+" : "+e.status+" - "+e.statusText+". "}).finally(function(){a++,this.batch.progress=a/e,a===e&&(this.batch.isLoading=!1)})},d=G()(t.batch.checkedTransactions);!(r=(l=d.next()).done);r=!0)c()}catch(u){n=!0,o=u}finally{try{r||null==d.return||d.return()}finally{if(n)throw o}}}()},selectAll:function(){this.batch.checkedTransactions=this.displayedTransactions.slice()},selectNone:function(){this.batch.checkedTransactions=[]}},watch:{"search.category":function(){this.search.subcategory=""}},mounted:function(){var t=this;this.get(),this.getCategories(!0),d.$on("transactions-updated",function(){t.get()}),d.$on("transactions-date-filtered",function(e){t.search.endDate.getTime()===e.periodStart.getTime()&&t.search.startDate.getTime()===e.periodEnd.getTime()||(t.search.startDate=e.periodStart,t.search.endDate=e.periodEnd)})},beforeDestroy:function(){d.$off("transactions-updated"),d.$off("transactions-date-filtered")}},nt=rt,ot=Object(v["a"])(nt,R,z,!1,null,null,null),lt=ot.exports,ct={name:"account",components:{Breadcrumb:A,Transactions:lt},data:function(){return{account:{id:B()(this.$route.params.id),bankId:"",branchId:"",accountId:"",label:"",balance:0,transactions:[]},isLoading:!1,updatedAccount:{},maps:[],upload:{file:null,map:"",isUploading:!1,result:""},url:u.API_URL+"accounts/"+B()(this.$route.params.id)+"/transactions{/id}",rAccounts:this.$resource(u.API_URL+"accounts{/id}"),rMaps:this.$resource(u.API_URL+"maps"),rDatasets:this.$resource(u.API_URL+"accounts/"+B()(this.$route.params.id)+"/dataset")}},computed:{accountTitle:function(){return this.account.label?this.account.label:this.account.bankId+" "+this.account.branchId+" "+this.account.accountId}},methods:{get:function(){var t=this;this.isLoading=!0,this.rAccounts.get({id:this.account.id}).then(function(e){t.account.bankId=e.body.bankId,t.account.branchId=e.body.branchId,t.account.accountId=e.body.accountId,t.account.balance=e.body.balance,t.account.label=e.body.label,t.updatedAccount=JSON.parse(o()(t.account)),delete t.updatedAccount.transactions},function(e){403!==e.status&&404!==e.status?console.error(e):t.$router.replace({name:"home"})}).finally(function(){this.isLoading=!1})},validateUpdateBeforeSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.isLoading=!0,t.rAccounts.update({id:t.account.id},t.updatedAccount).then(function(e){t.account.bankId=e.body.bankId,t.account.branchId=e.body.branchId,t.account.accountId=e.body.accountId,t.account.balance=e.body.balance,t.account.label=e.body.label},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1}))})},deleteAccount:function(){var t=this;this.$dialog.confirm({message:this.$t("labels.deleteAccountMsg"),title:this.$t("labels.deleteAccount"),type:"is-danger",hasIcon:!0,icon:"trash",confirmText:this.$t("actions.deleteAccount"),cancelText:this.$t("actions.cancel"),focusOn:"cancel",onConfirm:function(){t.isLoading=!0,t.rAccounts.delete({id:t.account.id}).then(function(e){t.$router.replace({name:"accounts"})},function(t){console.error(t)}).finally(function(){this.isLoading=!1})}})},getMaps:function(){var t=this;localStorage.getItem("maps")?this.maps=JSON.parse(localStorage.getItem("maps")):this.rMaps.get().then(function(e){t.maps=e.body,localStorage.setItem("maps",o()(t.maps))},function(t){console.error(t)})},uploadDataset:function(){var t=this;this.upload.result="";var e=this.upload.file,a=new FormData;if(a.append("Content-Type",e.type||"application/octet-stream"),a.append("file",e),e.size>8e7)this.upload.result=this.$t("labels.fileTooBig");else{var s={};if("application/json"===e.type){if(!this.upload.map)return void(this.upload.result=this.$t("labels.mapMustBeSet"));s={map:this.upload.map}}this.upload.isUploading=!0,this.isLoading=!0,this.rDatasets.save(s,a).then(function(e){e.body.message&&(t.upload.result=e.body.message),d.$emit("transactions-updated",{})},function(e){e.body.message?t.upload.result=e.body.message:t.upload.result=e.status+" - "+e.statusText}).finally(function(){this.upload.isUploading=!1,this.isLoading=!1})}}},mounted:function(){this.get(),this.getMaps()}},dt=ct,ut=Object(v["a"])(dt,U,q,!1,null,null,null),mt=ut.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero is-light is-fullheight login"},[a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container has-text-centered"},[a("div",{staticClass:"column is-4 is-offset-4"},[a("div",{staticClass:"box"},[a("form",[a("h3",{staticClass:"title has-text-grey"},[t._v(t._s(t.$t("actions.login")))]),a("p",{staticClass:"subtitle has-text-grey"},[t._v(t._s(t.$t("labels.login")))]),a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.login,expression:"credentials.login"},{name:"validate",rawName:"v-validate",value:"required|min:3|alpha",expression:"'required|min:3|alpha'"}],staticClass:"input is-medium",class:{input:!0,"is-danger":t.errors.has("login")},attrs:{type:"text",name:"login",placeholder:t.$t("fieldnames.login")},domProps:{value:t.credentials.login},on:{input:function(e){e.target.composing||t.$set(t.credentials,"login",e.target.value)}}}),t._m(0),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("login"),expression:"errors.has('login')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("login"),expression:"errors.has('login')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("login")))])])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"},{name:"validate",rawName:"v-validate",value:"required|min:5",expression:"'required|min:5'"}],staticClass:"input is-medium",class:{input:!0,"is-danger":t.errors.has("password")},attrs:{type:"password",name:"password",placeholder:t.$t("fieldnames.password")},domProps:{value:t.credentials.password},on:{input:function(e){e.target.composing||t.$set(t.credentials,"password",e.target.value)}}}),t._m(1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("password")))])])]),a("div",{staticClass:"field"},[a("button",{staticClass:"button is-block is-primary is-medium is-fullwidth",class:{"is-loading":t.isLoading},attrs:{disabled:t.isLoading},on:{click:t.submit}},[a("span",{staticClass:"fa fa-sign-in fa-fw",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("actions.login")))])]),t.error?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n                "+t._s(t.error)+"\n              ")])]):t._e()])])])])])])},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fa fa-user"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fa fa-lock"})])}],vt={data:function(){return{credentials:{login:"",password:""},isLoading:!1,error:""}},methods:{submit:function(t){var e=this;t.preventDefault(),this.$validator.validateAll().then(function(t){if(t){e.isLoading=!0;var a={login:e.credentials.login,password:e.credentials.password};if(e.errors.count()>0||""===a.login||""===a.password)return;m.login(e,a,e.$router.currentRoute.query.redirect)}})}}},ft=vt,bt=(a("039a"),Object(v["a"])(ft,pt,ht,!1,null,null,null)),gt=bt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:this.$t("labels.home")},{link:"/profile",icon:"fa-user-circle",text:this.$t("labels.profile"),isActive:!0}]}})],1),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v(t._s(t.$t("labels.profile")))]),a("p",{staticClass:"subtitle has-text-grey"},[t._v(t._s(t.$t("labels.profileLabel")))]),a("form",{staticClass:"section is-max-width-form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.login")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.login,expression:"user.login"},{name:"validate",rawName:"v-validate",value:"required|min:3|alpha",expression:"'required|min:3|alpha'"}],staticClass:"input",class:{input:!0,"is-danger":t.errors.has("login")},attrs:{type:"text",name:"login",placeholder:"Type your new login"},domProps:{value:t.user.login},on:{input:function(e){e.target.composing||t.$set(t.user,"login",e.target.value)}}}),t._m(0),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("login"),expression:"errors.has('login')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("login"),expression:"errors.has('login')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("login")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.newPassword")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"required|min:5",expression:"'required|min:5'"}],staticClass:"input",class:{input:!0,"is-danger":t.errors.has("password")},attrs:{type:"password",name:"password",placeholder:"Type your new password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._m(1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("password")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.email")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.mail,expression:"user.mail"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"input",class:{input:!0,"is-danger":t.errors.has("email")},attrs:{type:"email",name:"email",placeholder:"Type your mail address"},domProps:{value:t.user.mail},on:{input:function(e){e.target.composing||t.$set(t.user,"mail",e.target.value)}}}),t._m(2),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("email"),expression:"errors.has('email')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("email"),expression:"errors.has('email')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("email")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-primary"},[a("span",{staticClass:"fa fa-save fa-fw",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("actions.save")))])]),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-light",on:{click:function(e){return t.$router.go(-1)}}},[a("span",{staticClass:"fa fa-ban fa-fw",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("actions.cancel")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),a("div",{staticClass:"field-body"},[t.error?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n                "+t._s(t.error)+"\n              ")])]):t._e()])]),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1),a("user-connections",{attrs:{id:this.user.id}})],1)])])},Ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fa fa-user"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fa fa-lock"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fa fa-envelope"})])}],_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-table",{attrs:{data:t.connections,"mobile-cards":!1,striped:!0,narrowed:"","default-sort":"creation","default-sort-direction":"desc"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"creation",label:t.$t("fieldnames.date"),sortable:""}},[t._v("\n      "+t._s(t._f("moment")(e.row.creation,"L LTS"))+"\n    ")]),a("b-table-column",{attrs:{field:"ip",label:t.$t("fieldnames.ipAddress"),sortable:""}},[t._v("\n      "+t._s(e.row.ip)+"\n    ")]),a("b-table-column",{attrs:{field:"userAgent",label:t.$t("fieldnames.userAgent"),sortable:"",title:e.row.userAgent}},[t._v("\n      "+t._s(e.row.browser)+" / "+t._s(e.row.os)),e.row.device?a("span",[t._v(" / "+t._s(e.row.device))]):t._e()])]}}])})},wt=[],$t=(a("c5f6"),a("2b80")),xt=a.n($t),kt={props:{id:{type:Number,required:!0}},data:function(){return{connections:[],rConnections:this.$resource(u.API_URL+"users/"+this.id+"/tokens")}},methods:{get:function(){var t=this;this.rConnections.query().then(function(e){t.connections=e.body;var a=new xt.a;t.connections.forEach(function(t){a.setUA(t.userAgent);var e=a.getResult();t.browser=e.browser.name+" "+e.browser.major,t.os=e.os.name+" "+e.os.version,e.device.model&&(t.device=e.device.model)})},function(t){t.body.message?console.log(t.body.message):console.log(t.status+" - "+t.statusText)})}},mounted:function(){this.get()}},At=kt,It=Object(v["a"])(At,_t,wt,!1,null,null,null),Lt=It.exports,Pt={name:"profile",components:{UserConnections:Lt,Breadcrumb:A},data:function(){return{user:m.getProfile(),password:"",error:"",isLoading:!1,rUsers:this.$resource(u.API_URL+"users{/id}")}},methods:{validateBeforeSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.isLoading=!0,t.rUsers.update({id:t.user.id},{sub:t.user.id,login:t.user.login,password:t.password,mail:t.user.mail}).then(function(t){},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1}))})}}},St=Pt,jt=Object(v["a"])(St,yt,Ct,!1,null,null,null),Tt=jt.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:this.$t("labels.home")},{link:"/patterns",icon:"fa-magic",text:this.$tc("objects.pattern",2),isActive:!0}]}})],1),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v(t._s(t.$tc("objects.pattern",2)))]),a("p",{staticClass:"subtitle has-text-grey"},[t._v(t._s(t.$t("labels.patternsLabel")))]),a("b-table",{staticClass:"table-container",attrs:{data:t.patterns,striped:!0,hoverable:!0},on:{select:t.edit},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{label:t.$t("fieldnames.label")}},[t._v("\n            "+t._s(e.row.label)+"\n          ")]),a("b-table-column",{attrs:{label:t.$tc("objects.category",1)}},[e.row.category&&t.categoriesAndSubcategoriesLookup[e.row.category]?a("span",[t._v(t._s(t.categoriesAndSubcategoriesLookup[e.row.category].label))]):t._e()]),a("b-table-column",{attrs:{label:t.$tc("objects.subcategory",1)}},[e.row.subcategory&&t.categoriesAndSubcategoriesLookup[e.row.subcategory]?a("span",[t._v(t._s(t.categoriesAndSubcategoriesLookup[e.row.subcategory].label))]):t._e()])]}}])}),a("div",{staticClass:"field is-grouped"},[a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary",attrs:{role:"button"},on:{click:t.create}},[t._m(0),a("span",[t._v(t._s(t.$t("actions.addPattern")))])])]),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary",attrs:{role:"button"},on:{click:t.suggest}},[t._m(1),a("span",[t._v(t._s(t.$t("actions.suggestPatterns")))])])])]),t.error?a("div",{staticClass:"message is-danger block"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e(),a("b-table",{staticClass:"table-container",attrs:{data:t.suggestedPatterns,striped:!0,hoverable:!0},on:{select:t.createSuggested},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{label:t.$t("fieldnames.label")}},[t._v("\n            "+t._s(e.row.label)+"\n          ")]),a("b-table-column",{attrs:{label:t.$tc("objects.category",1)}},[e.row.category&&t.categoriesAndSubcategoriesLookup[e.row.category]?a("span",[t._v(t._s(t.categoriesAndSubcategoriesLookup[e.row.category].label))]):t._e()]),a("b-table-column",{attrs:{label:t.$tc("objects.subcategory",1)}},[e.row.subcategory&&t.categoriesAndSubcategoriesLookup[e.row.subcategory]?a("span",[t._v(t._s(t.categoriesAndSubcategoriesLookup[e.row.subcategory].label))]):t._e()]),a("b-table-column",{attrs:{label:t.$tc("objects.occurence",2)}},[t._v("\n            "+t._s(e.row.count)+"\n          ")])]}}])}),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)]),a("b-modal",{attrs:{active:t.modalPattern.isActive,"has-modal-card":"",scroll:"keep"},on:{"update:active":function(e){return t.$set(t.modalPattern,"isActive",e)}}},[a("transaction-pattern",{attrs:{pattern:t.modalPattern.pattern,rPatterns:t.rPatterns}})],1)],1)},Nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-plus"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-cogs"})])}],Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v(t._s(t.$tc("objects.pattern",1)))])]),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.label")))]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.pattern.label,expression:"pattern.label",modifiers:{lazy:!0}},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"input",class:{"is-danger":t.errors.has("label")},attrs:{type:"text",name:"label",placeholder:"Transaction name to be find"},domProps:{value:t.pattern.label},on:{change:[function(e){return t.$set(t.pattern,"label",e.target.value)},t.count]}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("label")))])]),a("p",{staticClass:"help"},[t._v(t._s(t.$t("labels.patternWildcardHelper"))),null!==t.matchingCount?a("span",[t._v(" - "+t._s(t.matchingCount)+" "+t._s(t.$tc("objects.occurence",t.matchingCount).toLowerCase()))]):t._e()])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$tc("objects.category",1)))]),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.pattern.category,expression:"pattern.category"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.pattern,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$tc("objects.category",1))+" --")]),t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])])]),t.pattern.category&&t.categoriesAndSubcategoriesLookup[t.pattern.category]&&t.categoriesAndSubcategoriesLookup[t.pattern.category].sub.length>0?a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$tc("objects.subcategory",1)))]),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.pattern.subcategory,expression:"pattern.subcategory"}],attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.pattern,"subcategory",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$tc("objects.subcategory",1))+" --")]),t._l(t.categoriesAndSubcategoriesLookup[t.pattern.category].sub,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])})],2)])])]):t._e(),t.error?a("div",{staticClass:"message is-danger block"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e()]),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-primary"},[t._m(0),a("span",[t._v(t._s(t.$t("actions.save")))])]),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v(t._s(t.$t("actions.cancel")))]),t.pattern.id?a("button",{staticClass:"button is-danger",attrs:{type:"button"},on:{click:t.deletePattern}},[t._m(1),a("span",[t._v(t._s(t.$t("actions.delete")))])]):t._e()]),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])},Mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-save"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-trash"})])}],Ut={props:["rPatterns","pattern"],mixins:[tt],data:function(){return{error:"",matchingCount:null,rTransactions:this.$resource(u.API_URL+"transactions"),isLoading:!1}},methods:{deletePattern:function(){var t=this;this.$dialog.confirm({message:this.$t("labels.deletePatternMsg"),title:this.$t("labels.deletePattern"),type:"is-danger",hasIcon:!0,icon:"trash",confirmText:this.$t("actions.deletePattern"),focusOn:"cancel",onConfirm:function(){t.isLoading=!0,t.rPatterns.delete({id:t.pattern.id}).then(function(e){t.$parent.close();var a=t.$parent.$parent.patterns,s=a.map(function(t){return t.id}).indexOf(t.pattern.id);a.splice(s,1)},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText})}})},validateBeforeSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){if(e){if(t.isLoading=!0,!t.pattern.id)return void t.rPatterns.save(t.pattern).then(function(e){t.pattern.id=e.body.id,t.$parent.close()},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText});t.rPatterns.update({id:t.pattern.id},t.pattern).then(function(e){t.$parent.close()},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText})}})},count:function(){var t=this;this.pattern.label&&this.rTransactions.query({pattern:this.pattern.label}).then(function(e){t.matchingCount=e.body.length,console.log(e.body.length)},function(t){console.error(t)})}},watch:{"pattern.category":function(){this.pattern.subcategory=""}},mounted:function(){this.getCategories(!1)}},qt=Ut,Ot=Object(v["a"])(qt,Et,Mt,!1,null,null,null),Bt=Ot.exports,Rt={name:"patterns",components:{TransactionPattern:Bt,Breadcrumb:A},mixins:[tt],data:function(){return{patterns:[],suggestedPatterns:[],error:"",isLoading:!1,modalPattern:{isActive:!1,pattern:{}},rPatterns:this.$resource(u.API_URL+"patterns{/id}"),rTransactionsPatterns:this.$resource(u.API_URL+"transactions/patterns")}},methods:{get:function(){var t=this;this.isLoading=!0,this.rPatterns.query().then(function(e){t.patterns=e.body},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})},create:function(){var t={label:"",category:"",subcategory:""};this.patterns.push(t),this.modalPattern.pattern=t,this.modalPattern.isActive=!0},edit:function(t){this.modalPattern.pattern=t,this.modalPattern.isActive=!0},suggest:function(){var t=this;this.isLoading=!0,this.rTransactionsPatterns.query().then(function(e){t.suggestedPatterns=e.body},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})},createSuggested:function(t){var e=JSON.parse(o()(t));this.patterns.push(e),this.edit(e)}},mounted:function(){this.get(),this.getCategories()}},zt=Rt,Ft=Object(v["a"])(zt,Dt,Nt,!1,null,null,null),Gt=Ft.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:this.$t("labels.home")},{link:"/users",icon:"fa-users",text:this.$tc("objects.user",2),isActive:!0}]}})],1),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v(t._s(t.$tc("objects.user",2)))]),a("b-table",{staticClass:"table-container",attrs:{data:t.displayedUsers,striped:!0,hoverable:!0},on:{select:t.edit},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{label:t.$t("fieldnames.login")}},[t._v("\n            "+t._s(e.row.login)+"\n          ")]),a("b-table-column",{attrs:{label:t.$t("fieldnames.email")}},[t._v("\n              "+t._s(e.row.mail)+"\n            ")]),a("b-table-column",{attrs:{label:t.$t("fieldnames.admin")}},[a("b-switch",{attrs:{disabled:""},model:{value:e.row.isAdmin,callback:function(a){t.$set(e.row,"isAdmin",a)},expression:"props.row.isAdmin"}})],1),a("b-table-column",{attrs:{label:t.$t("fieldnames.status")}},[a("b-switch",{attrs:{disabled:""},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"props.row.status"}})],1)]}}])}),a("div",{staticClass:"field is-grouped"},[a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary",attrs:{role:"button"},on:{click:t.create}},[a("i",{staticClass:"fa fa-user-plus"}),t._v(" "+t._s(t.$t("actions.addUser")))])])]),t.error?a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e(),a("b-modal",{attrs:{active:t.modalUser.isActive,"has-modal-card":"",scroll:"keep"},on:{"update:active":function(e){return t.$set(t.modalUser,"isActive",e)},close:t.get}},[a("user-form",t._b({},"user-form",t.modalUser,!1))],1),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])},Ht=[],Wt=(a("6762"),a("2fdb"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v(t._s(t.action)+" "+t._s(t.$tc("objects.user",1).toLowerCase()))])]),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.login")))]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.login,expression:"user.login"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("login")},attrs:{type:"text",name:"login",placeholder:"Login"},domProps:{value:t.user.login},on:{input:function(e){e.target.composing||t.$set(t.user,"login",e.target.value)}}}),t._m(0),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("login"),expression:"errors.has('login')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("login"),expression:"errors.has('login')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("login")))])])]),t.user.sub?t._e():a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.password")))]),a("div",{staticClass:"control has-icons-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("password")},attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._m(1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("password")))])])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.email")))]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.mail,expression:"user.mail"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"input",class:{"is-danger":t.errors.has("email")},attrs:{type:"email",name:"email",placeholder:"Mail address"},domProps:{value:t.user.mail},on:{input:function(e){e.target.composing||t.$set(t.user,"mail",e.target.value)}}}),t._m(2),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("email"),expression:"errors.has('email')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("email"),expression:"errors.has('email')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("email")))])])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.status")))]),a("div",{staticClass:"control"},[a("b-switch",{model:{value:t.user.status,callback:function(e){t.$set(t.user,"status",e)},expression:"user.status"}})],1)]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.admin")))]),a("div",{staticClass:"control"},[a("b-switch",{model:{value:t.isAdmin,callback:function(e){t.isAdmin=e},expression:"isAdmin"}})],1)]),t.error?a("div",{staticClass:"message is-danger block"},[a("div",{staticClass:"message-body"},[t._v("\n          "+t._s(t.error)+"\n        ")])]):t._e(),this.user.sub?a("user-connections",{attrs:{id:this.user.sub}}):t._e()],1),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-primary"},[t._v(t._s(t.action))]),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v(t._s(t.$t("actions.cancel")))])]),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])}),Yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fa fa-user"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fa fa-lock"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fa fa-envelope"})])}],Vt={props:["user"],components:{UserConnections:Lt},data:function(){return{error:"",isLoading:!1,action:"",rUsers:this.$resource(u.API_URL+"users{/id}")}},computed:{isAdmin:{get:function(){return this.user.scope.includes("admin")},set:function(t){var e=this.user.scope.split(" ").filter(function(t,e,a){return"admin"!==t});t&&e.push("admin"),this.user.scope=e.join(" ")}}},methods:{validateBeforeSubmit:function(){var t=this;this.error=null,this.$validator.validateAll().then(function(e){if(e){if(t.isLoading=!0,!t.user.sub)return void t.rUsers.save(t.user).then(function(e){t.$parent.close()},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1});t.rUsers.update({id:t.user.sub},t.user).then(function(e){t.$parent.close()},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})}})}},mounted:function(){this.action=this.user.sub?this.$t("actions.update"):this.$t("actions.create")}},Xt=Vt,Zt=Object(v["a"])(Xt,Wt,Yt,!1,null,null,null),Kt=Zt.exports,Qt={name:"users",components:{Breadcrumb:A,UserForm:Kt},data:function(){return{users:[],error:"",isLoading:!1,modalUser:{isActive:!1,user:{}},rUsers:this.$resource(u.API_URL+"users{/id}")}},computed:{displayedUsers:function(){return this.users.slice().map(function(t){return t.isAdmin=t.scope.includes("admin"),t})}},methods:{get:function(){var t=this;this.isLoading=!0,this.rUsers.query().then(function(e){t.users=e.body},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})},create:function(){this.modalUser.user={scope:"user",status:!0},this.modalUser.isActive=!0},edit:function(t){this.modalUser.user=JSON.parse(o()(t)),delete this.modalUser.user.isAdmin,this.modalUser.isActive=!0}},mounted:function(){this.get()}},te=Qt,ee=Object(v["a"])(te,Jt,Ht,!1,null,null,null),ae=ee.exports,se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:this.$t("labels.home")},{link:"/categories",icon:"fa-folder-open-o",text:this.$tc("objects.category",2),isActive:!0}]}})],1),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v(t._s(t.$tc("objects.category",2)))]),a("p",{staticClass:"subtitle has-text-grey"},[t._v(t._s(t.$t("labels.categoriesLabel")))]),a("ul",{staticClass:"menu-list"},[t._l(t.categories,function(e){return a("li",{key:e.id,class:{"item-disabled":!e.status}},[a("router-link",{attrs:{to:{name:"category",params:{id:e.id}}}},[a("i",{staticClass:"fa fa-fw",class:e.icon}),t._v(" "+t._s(e.label))]),a("ul",[t._l(e.sub,function(s){return a("li",{key:s.id,class:{"item-disabled":!s.status}},[a("router-link",{attrs:{to:{name:"subcategory",params:{id:s.id,pid:e.id}}}},[t._v(t._s(s.label))])],1)}),a("li",[a("router-link",{staticClass:"has-text-grey-light",attrs:{to:{name:"subcategory",params:{id:"new",pid:e.id}}}},[a("i",{staticClass:"fa fa-fw fa-plus-square-o"}),t._v(t._s(t.$t("actions.addSubcategory")))])],1)],2)],1)}),a("li",[a("router-link",{staticClass:"has-text-grey-light",attrs:{to:{name:"category",params:{id:"new"}}}},[a("i",{staticClass:"fa fa-fw fa-plus-square-o"}),t._v(t._s(t.$t("actions.addCategory")))])],1)],2),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])},ie=[],re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:this.breadcrumbItems},on:{"update:items":function(e){return t.$set(this,"breadcrumbItems",e)}}})],1),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v(t._s(t.$tc("objects.category",1)))]),a("p",{staticClass:"subtitle has-text-grey"},[t._v(t._s(t.$t("actions.editCategory")))]),a("form",{staticClass:"section is-max-width-form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.label")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category.label,expression:"category.label"},{name:"validate",rawName:"v-validate",value:"required|min:3",expression:"'required|min:3'"}],staticClass:"input",class:{"is-danger":t.errors.has("label")},attrs:{type:"text",name:"label",placeholder:"Type a short description"},domProps:{value:t.category.label},on:{input:function(e){e.target.composing||t.$set(t.category,"label",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("label")))])])])])]),t.isCategory?t._e():a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.parent")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.category.parentId,expression:"category.parentId"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-danger":t.errors.has("label")},attrs:{name:"parent"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.category,"parentId",e.target.multiple?a:a[0])}}},t._l(t.parentCategories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.label))])}),0)])])])])]),t.isCategory?a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.icon")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isIconPickerDisplayed,expression:"!isIconPickerDisplayed"}],staticClass:"button",on:{click:t.toggleIconPicker}},[a("i",{staticClass:"fa fa-fw",class:t.category.icon})]),a("icon-picker",{directives:[{name:"show",rawName:"v-show",value:t.isIconPickerDisplayed,expression:"isIconPickerDisplayed"}],on:{selectIcon:t.setIcon}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.category.icon,expression:"!category.icon"}],staticClass:"help is-danger"},[t._v("Icon is required.")])],1)])])]):t._e(),t.isCategory?a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.isBudgeted")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("b-switch",{model:{value:t.category.isBudgeted,callback:function(e){t.$set(t.category,"isBudgeted",e)},expression:"category.isBudgeted"}},[t._v(t._s(t.category.isBudgeted?t.$t("labels.isBudgeted"):t.$t("labels.isNotBudgeted")))])],1),a("p",{staticClass:"help"},[t._v(t._s(t.$t("labels.isBudgetedHelp")))])])])]):t._e(),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.status")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("b-switch",{model:{value:t.category.status,callback:function(e){t.$set(t.category,"status",e)},expression:"category.status"}},[t._v(t._s(t.category.status?t.$t("labels.active"):t.$t("labels.disabled")))])],1)])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-primary"},[a("span",{staticClass:"fa fa-save fa-fw",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("actions.save")))])]),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-light",on:{click:function(e){return t.$router.go(-1)}}},[a("span",{staticClass:"fa fa-ban fa-fw",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("actions.cancel")))])])])])]),t.error?a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),a("div",{staticClass:"field-body"},[a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n                "+t._s(t.error)+"\n              ")])])])]):t._e(),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])])},ne=[],oe=a("44a7"),le={name:"category",components:{Breadcrumb:A,"icon-picker":oe["fontAwesomePicker"]},props:["isCategory"],data:function(){return{rCategories:this.$resource(u.API_URL+"categories{/id}"),category:{id:B()(this.$route.params.id),status:!0},parentCategories:[],isIconPickerDisplayed:!1,breadcrumbItems:[],isLoading:!1,error:null}},methods:{get:function(){var t=this;this.isLoading=!0,this.rCategories.get({id:this.category.id}).then(function(e){t.category=e.body,t.updateBreadcrumbItems()},function(t){console.error(t)}).finally(function(){this.isLoading=!1})},updateBreadcrumbItems:function(){var t=this,e=this.breadcrumbItems.slice(),a=2;if(!this.isCategory&&(a=3,this.category.parentId)){var s=this.category.parentId;if(this.parentCategories.length>0){var i=this.parentCategories.filter(function(e){return e.id===B()(t.category.parentId)});i.length>0&&(s=i[0].label,e[a-1]={link:{name:"category",params:{id:this.category.parentId}},text:s})}}this.category.label&&(e[a]={link:"/categories",text:this.category.label,isActive:!0}),this.breadcrumbItems=e.slice()},getParentCategories:function(){var t=this;if(localStorage.getItem("categories"))return this.parentCategories=JSON.parse(localStorage.getItem("categories")),void this.updateBreadcrumbItems();this.rCategories.query({status:"all"}).then(function(e){t.parentCategories=e.body,t.updateBreadcrumbItems()},function(t){console.error(t)})},toggleIconPicker:function(){this.isIconPickerDisplayed=!this.isIconPickerDisplayed},setIcon:function(t){this.category.icon=t.className,this.toggleIconPicker()},validateBeforeSubmit:function(){var t=this;this.error=null,this.$validator.validateAll().then(function(e){if(e){if(t.isLoading=!0,!t.category.id)return void t.rCategories.save(t.category).then(function(e){localStorage.removeItem("categoriesActives"),localStorage.removeItem("categories"),t.$router.replace({name:"categories"})},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1});t.rCategories.update({id:t.category.id},t.category).then(function(e){localStorage.removeItem("categoriesActives"),localStorage.removeItem("categories"),t.$router.replace({name:"categories"})},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})}})}},mounted:function(){this.breadcrumbItems=[{link:"/",icon:"fa-home",text:this.$t("labels.home")},{link:"/categories",icon:"fa-folder-open-o",text:this.$tc("objects.category",2)}],this.category.id&&this.get(),this.isCategory?this.category.icon||(this.category.icon="fa-question"):(this.category.parentId=B()(this.$route.params.pid),this.getParentCategories())}},ce=le,de=Object(v["a"])(ce,re,ne,!1,null,null,null),ue=de.exports,me={name:"categories",components:{Breadcrumb:A,Category:ue},data:function(){return{rCategories:this.$resource(u.API_URL+"categories{/id}"),categories:[],isLoading:!1}},methods:{get:function(){var t=this;this.isLoading=!0,this.rCategories.query({}).then(function(e){t.categories=e.body,localStorage.setItem("categories",o()(t.categories))},function(t){console.error(t)}).finally(function(){this.isLoading=!1})}},mounted:function(){this.get()}},pe=me,he=(a("3f5f"),Object(v["a"])(pe,se,ie,!1,null,"3d57a5e2",null)),ve=he.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:this.$t("labels.home")},{link:"/maps",icon:"fa-random",text:this.$tc("objects.transactionMapping",2),isActive:!0}]}})],1),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v(t._s(t.$tc("objects.transactionMapping",2)))]),a("p",{staticClass:"subtitle has-text-grey"},[t._v(t._s(t.$t("labels.mapsLabel")))]),a("ul",{staticClass:"menu-list"},[t._l(t.maps,function(e){return a("li",{key:e.code},[a("router-link",{attrs:{to:{name:"map",params:{code:e.code}}}},[t._v(t._s(e.label))])],1)}),a("li",[a("router-link",{staticClass:"has-text-grey-light",attrs:{to:{name:"newMap"}}},[a("i",{staticClass:"fa fa-fw fa-plus-square-o"}),t._v(t._s(t.$t("actions.addMap")))])],1)],2),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])},be=[],ge={name:"mappings",components:{Breadcrumb:A},data:function(){return{rMaps:this.$resource(u.API_URL+"maps{/id}"),maps:[],isLoading:!1}},methods:{get:function(){var t=this;this.isLoading=!0,this.rMaps.query({}).then(function(e){t.maps=e.body,localStorage.setItem("maps",o()(t.maps))},function(t){console.error(t)}).finally(function(){this.isLoading=!1})}},mounted:function(){this.get()}},ye=ge,Ce=Object(v["a"])(ye,fe,be,!1,null,null,null),_e=Ce.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:this.$t("labels.home")},{link:"/maps",icon:"fa-random",text:this.$tc("objects.transactionMapping",2)},{link:"/maps",text:this.map.label,isActive:!0}]}})],1),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v(t._s(t.$tc("objects.transactionMapping",1)))]),a("p",{staticClass:"subtitle has-text-grey"},[t._v(t._s(t.$t("labels.mapLabel")))]),a("form",{staticClass:"section is-max-width-form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.code")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.code,expression:"map.code"},{name:"validate",rawName:"v-validate",value:"required|alpha|min:2|max:10|is_not:new",expression:"'required|alpha|min:2|max:10|is_not:new'"}],staticClass:"input",class:{"is-danger":t.errors.has("code")},attrs:{type:"text",name:"code",placeholder:"Type a code",disabled:!t.isNew},domProps:{value:t.map.code},on:{input:function(e){e.target.composing||t.$set(t.map,"code",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("code"),expression:"errors.has('code')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("code"),expression:"errors.has('code')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("code")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.label")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.label,expression:"map.label"},{name:"validate",rawName:"v-validate",value:"required|max:100",expression:"'required|max:100'"}],staticClass:"input",class:{"is-danger":t.errors.has("label")},attrs:{type:"text",name:"label",placeholder:t.$t("labels.typeJsonAttribute")},domProps:{value:t.map.label},on:{input:function(e){e.target.composing||t.$set(t.map,"label",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("label")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.dateFormat")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.dateFormat,expression:"map.dateFormat"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"input",class:{"is-danger":t.errors.has("dateFormat")},attrs:{type:"text",name:"dateFormat",placeholder:"Type the provided date format (Y-m-d)"},domProps:{value:t.map.dateFormat},on:{input:function(e){e.target.composing||t.$set(t.map,"dateFormat",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("dateFormat"),expression:"errors.has('dateFormat')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("dateFormat"),expression:"errors.has('dateFormat')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("dateFormat")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.transactionId")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.attributes.fitid,expression:"map.attributes.fitid"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("transactionId")},attrs:{type:"text",name:"transactionId",placeholder:t.$t("labels.typeJsonAttribute")},domProps:{value:t.map.attributes.fitid},on:{input:function(e){e.target.composing||t.$set(t.map.attributes,"fitid",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("transactionId"),expression:"errors.has('transactionId')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("transactionId"),expression:"errors.has('transactionId')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("transactionId")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.label")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.attributes.name,expression:"map.attributes.name"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("label")},attrs:{type:"text",name:"label",placeholder:t.$t("labels.typeJsonAttribute")},domProps:{value:t.map.attributes.name},on:{input:function(e){e.target.composing||t.$set(t.map.attributes,"name",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("label"),expression:"errors.has('label')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("label")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.memo")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.attributes.memo,expression:"map.attributes.memo"},{name:"validate",rawName:"v-validate",value:"alpha_num",expression:"'alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("memo")},attrs:{type:"text",name:"memo",placeholder:t.$t("labels.typeJsonAttribute")},domProps:{value:t.map.attributes.memo},on:{input:function(e){e.target.composing||t.$set(t.map.attributes,"memo",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("memo"),expression:"errors.has('memo')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("memo"),expression:"errors.has('memo')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("memo")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.amount")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.attributes.amount,expression:"map.attributes.amount"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("amount")},attrs:{type:"text",name:"amount",placeholder:t.$t("labels.typeJsonAttribute")},domProps:{value:t.map.attributes.amount},on:{input:function(e){e.target.composing||t.$set(t.map.attributes,"amount",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("amount"),expression:"errors.has('amount')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("amount"),expression:"errors.has('amount')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("amount")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.datePosted")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.attributes.datePosted,expression:"map.attributes.datePosted"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("datePosted")},attrs:{type:"text",name:"datePosted",placeholder:t.$t("labels.typeJsonAttribute")},domProps:{value:t.map.attributes.datePosted},on:{input:function(e){e.target.composing||t.$set(t.map.attributes,"datePosted",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("datePosted"),expression:"errors.has('datePosted')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("datePosted"),expression:"errors.has('datePosted')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("datePosted")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(t.$t("fieldnames.dateUser")))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.map.attributes.dateUser,expression:"map.attributes.dateUser"},{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"}],staticClass:"input",class:{"is-danger":t.errors.has("dateUser")},attrs:{type:"text",name:"dateUser",placeholder:t.$t("labels.typeJsonAttribute")},domProps:{value:t.map.attributes.dateUser},on:{input:function(e){e.target.composing||t.$set(t.map.attributes,"dateUser",e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("dateUser"),expression:"errors.has('dateUser')"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("dateUser"),expression:"errors.has('dateUser')"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first("dateUser")))])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-primary"},[a("span",{staticClass:"fa fa-save fa-fw",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("actions.save")))])]),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-light",on:{click:function(e){return t.$router.go(-1)}}},[a("span",{staticClass:"fa fa-ban fa-fw",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("actions.cancel")))])]),a("div",{staticClass:"control"},[a("button",{staticClass:"button is-danger",attrs:{type:"button",role:"button"},on:{click:t.deleteMap}},[a("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("actions.delete")))])])])])]),t.error?a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"}),a("div",{staticClass:"field-body"},[a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n                "+t._s(t.error)+"\n              ")])])])]):t._e(),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])])},$e=[],xe={name:"mapping",components:{Breadcrumb:A},props:["isNew"],data:function(){return{rMaps:this.$resource(u.API_URL+"maps{/code}"),map:{code:this.$route.params.code,label:"",dateFormat:"Y-m-d",attributes:{datePosted:"",fitid:"",memo:"",dateUser:"",name:"",amount:""}},isLoading:!1,error:null}},methods:{get:function(){var t=this;this.isLoading=!0,this.rMaps.get({code:this.$route.params.code}).then(function(e){t.map=e.body},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})},deleteMap:function(){var t=this;this.$dialog.confirm({message:this.$t("labels.deleteMapMsg"),title:this.$t("labels.deleteMap"),type:"is-danger",hasIcon:!0,icon:"trash",confirmText:this.$t("actions.deleteMap"),focusOn:"cancel",onConfirm:function(){t.isLoading=!0,t.rMaps.delete({code:t.$route.params.code}).then(function(e){localStorage.removeItem("maps"),t.$router.replace({name:"maps"})},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText})}})},validateBeforeSubmit:function(){var t=this;this.error=null,this.$validator.validateAll().then(function(e){if(e){if(t.isLoading=!0,t.isNew)return void t.rMaps.save(t.map).then(function(e){localStorage.removeItem("maps"),t.$router.replace({name:"maps"})},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText});t.rMaps.update({code:t.$route.params.code},t.map).then(function(e){localStorage.removeItem("maps"),t.$router.replace({name:"maps"})},function(e){t.isLoading=!1,e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText})}})}},mounted:function(){this.isNew||this.get()}},ke=xe,Ae=Object(v["a"])(ke,we,$e,!1,null,null,null),Ie=Ae.exports,Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:this.$t("labels.home"),isActive:!0}]}})],1),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"section no-padding-parent-mobile"},[a("div",{staticClass:"container"},[a("div",{staticClass:"columns no-padding-parent-mobile is-multiline"},[a("div",{staticClass:"column no-padding-mobile is-full"},[a("transactions-history-chart",{attrs:{title:t.$t("labels.transactionsByDay"),chartEndpoint:"transactions/history",isIndependent:!0,date:t.date}})],1),a("div",{staticClass:"column no-padding-mobile is-one-half-desktop"},[a("transactions-distribution-chart",{attrs:{title:t.$t("labels.incomeDistribution"),chartEndpoint:"transactions/distribution/credit/categories",isIndependent:!1,date:t.date}})],1),a("div",{staticClass:"column no-padding-mobile is-one-half-desktop"},[a("transactions-distribution-chart",{attrs:{title:t.$t("labels.expenseDistribution"),chartEndpoint:"transactions/distribution/debit/categories",isIndependent:!1,date:t.date}})],1),t.categorySelected.key?a("div",{staticClass:"column no-padding-mobile is-full"},[a("transactions-history-chart",{attrs:{title:t.$t("labels.transactionsByDay")+" "+t.$t("labels.for")+" "+t.categorySelected.label,chartEndpoint:"transactions/history?category="+t.categorySelected.key,isIndependent:!1,date:t.date}})],1):t._e(),t.categorySelected.key?a("div",{staticClass:"column no-padding-mobile is-one-half-desktop"},[a("transactions-distribution-chart",{attrs:{title:t.$t("labels.incomeDistribution")+" "+t.$t("labels.for")+" "+t.categorySelected.label,chartEndpoint:"transactions/distribution/credit/subcategories?value="+t.categorySelected.key,isIndependent:!1,date:t.date}})],1):t._e(),t.categorySelected.key?a("div",{staticClass:"column no-padding-mobile is-one-half-desktop"},[a("transactions-distribution-chart",{attrs:{title:t.$t("labels.expenseDistribution")+" "+t.$t("labels.for")+" "+t.categorySelected.label,chartEndpoint:"transactions/distribution/debit/subcategories?value="+t.categorySelected.key,isIndependent:!1,date:t.date}})],1):t._e()])])]),a("div",{staticClass:"container box"},[a("h1",{staticClass:"title"},[t._v(t._s(t.$tc("objects.transaction",2)))]),a("transactions",{attrs:{url:t.url}})],1)])])},Pe=[],Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoaded?a("div",{staticClass:"box"},[a("p",{staticClass:"title"},[t._v(t._s(t.title))]),t.isIndependent?a("div",{staticClass:"field is-grouped is-grouped-multiline is-block-mobile"},[a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:"Start date",icon:"calendar",editable:"","max-date":t.search.currentDate,required:"",disabled:t.isLoading},model:{value:t.search.periodStart,callback:function(e){t.$set(t.search,"periodStart",e)},expression:"search.periodStart"}})],1),a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:"End date",icon:"calendar",editable:"","max-date":t.search.currentDate,required:"",disabled:t.isLoading},model:{value:t.search.periodEnd,callback:function(e){t.$set(t.search,"periodEnd",e)},expression:"search.periodEnd"}})],1),a("div",{staticClass:"control"},[a("button",{staticClass:"button",class:{"is-loading":t.isLoading},attrs:{disabled:t.isLoading},on:{click:t.applyFilter}},[t._m(0),a("span",[t._v(t._s(t.$t("actions.refresh")))])])])]):t._e(),a("doughnut",{attrs:{chartData:t.chartData,options:t.options}})],1):t._e()},je=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-refresh"})])}],Te=a("1fca"),De=Te["c"].reactiveProp,Ne={extends:Te["a"],mixins:[De],props:{chartData:{type:Object,required:!0},options:{type:Object,required:!0}},mounted:function(){this.renderChart(this.chartData,this.options)},watch:{chartData:function(){this.renderChart(this.chartData,this.options)}}},Ee=Ne,Me=Object(v["a"])(Ee,X,Z,!1,null,null,null),Ue=Me.exports,qe={components:{Doughnut:Ue},mixins:[tt],props:{title:{type:String,required:!0},chartEndpoint:{type:String,required:!0},date:{required:!1},isIndependent:{type:Boolean,default:!0,required:!1}},data:function(){var t=new Date;return t.setHours(0,0,0),{isLoading:!1,isLoaded:!1,chartData:null,options:null,search:{currentDate:t,periodStart:new Date(t.getFullYear(),t.getMonth(),t.getDate()-30),periodEnd:t}}},methods:{applyFilter:function(){d.$emit("transactions-date-filtered",this.search),this.requestData()},requestData:function(){var t=this;this.isLoading=!0;var e={params:{}};this.$http.get(u.API_URL+this.chartEndpoint,e).then(function(e){var a,s=e.data.values,i=["#42b983","#292f36","#4ecdc4","#0b3954","#ff6663","#7d7c84","#7180ac","#2b4570","#c84630","#81a684","#466060","#c9cba3","#e26d5c","#2a4747","#157a6e","#ee6c4d"],r=s.length;if("debit"===e.data.type){i=[];for(var n=0;n<r;n++)a=61+n/r*39,i.push("hsla(348, 100%, "+a+"%, 1)")}else if("credit"===e.data.type){i=[];for(var o=0;o<r;o++)a=49+o/r*41,i.push("hsla(153, 47%, "+a+"%, 1)")}var l=null;"categories"===e.data.key&&(l=function(t){var e=this.chart.getElementsAtEvent(t)[0];if(e){var a=s[e._index].key;a&&d.$emit("category-selected",{key:a,label:this.chart.data.labels[e._index]})}});var c,u=t,m=function(t,e){var a=e.datasets[t.datasetIndex].data.reduce(function(t,e){return t+e},0),s=e.datasets[t.datasetIndex].data[t.index],i=e.labels[t.index];return i+": "+u.$n(s,"currency")+" ("+Math.round(100*s/a)+"%)"};t.chartData={datasets:[{backgroundColor:i,data:s.map(function(t){return t.amount})}]},c="categories"===e.data.key||"subcategories"===e.data.key?s.map(function(e){return t.categoriesAndSubcategoriesLookup[e.key]?t.categoriesAndSubcategoriesLookup[e.key].label:null===e.key?t.$t("labels.uncategorizedTransaction"):e.key}):s.map(function(t){return t.key}),t.chartData.labels=c,t.options={legend:{display:!0},responsive:!0,maintainAspectRatio:!1,tooltips:{callbacks:{label:m}},onClick:l},t.search.periodStart=t.$moment(e.data.periodStart).toDate(),t.search.periodEnd=t.$moment(e.data.periodEnd).toDate(),t.isLoading=!1,t.isLoaded=!0},function(t){t.body.message?console.log(t.body.message):console.log(t.status+" - "+t.statusText)})}},mounted:function(){var t=this;d.$on("transactions-date-filtered",function(e){t.search.periodStart.getTime()===e.periodStart.getTime()&&t.search.periodEnd.getTime()===e.periodEnd.getTime()||(t.search.periodStart=e.periodStart,t.search.periodEnd=e.periodEnd,t.requestData())}),this.getCategories(!0),this.date&&(this.search.periodStart=this.date.periodStart,this.search.periodEnd=this.date.periodEnd),this.requestData()}},Oe=qe,Be=Object(v["a"])(Oe,Se,je,!1,null,null,null),Re=Be.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoaded?a("div",{staticClass:"box"},[a("p",{staticClass:"title"},[t._v(t._s(t.title))]),t.isIndependent?a("div",{staticClass:"field is-grouped is-grouped-multiline is-block-mobile"},[a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.quickDate,expression:"quickDate"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.quickDate=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"P1W"}},[t._v(t._s(t.$tc("objects.lastWeek",1)))]),a("option",{attrs:{value:"P1M"}},[t._v(t._s(t.$tc("objects.lastMonth",1)))]),a("option",{attrs:{value:"P3M"}},[t._v(t._s(t.$tc("objects.lastMonth",3)))]),a("option",{attrs:{value:"P6M"}},[t._v(t._s(t.$tc("objects.lastMonth",6)))]),a("option",{attrs:{value:"P1Y"}},[t._v(t._s(t.$tc("objects.lastYear",1)))])])])]),a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:"Start date",icon:"calendar",editable:"","max-date":t.search.currentDate,required:"",disabled:t.isLoading},model:{value:t.search.periodStart,callback:function(e){t.$set(t.search,"periodStart",e)},expression:"search.periodStart"}})],1),a("div",{staticClass:"control"},[a("b-datepicker",{attrs:{placeholder:"End date",icon:"calendar",editable:"","max-date":t.search.currentDate,required:"",disabled:t.isLoading},model:{value:t.search.periodEnd,callback:function(e){t.$set(t.search,"periodEnd",e)},expression:"search.periodEnd"}})],1),a("div",{staticClass:"control"},[a("button",{staticClass:"button",class:{"is-loading":t.isLoading},attrs:{disabled:t.isLoading},on:{click:t.applyFilter}},[t._m(0),a("span",[t._v(t._s(t.$t("actions.refresh")))])])])]):t._e(),a("line-chart",{attrs:{chartData:t.chartData,labelCallback:t.labelCallback}})],1):t._e()},Fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-refresh"})])}],Ge=Te["c"].reactiveProp,Je={extends:Te["b"],mixins:[Ge],props:{chartData:{type:Object,required:!0},labelCallback:{type:Function,required:!1},chartOptions:{type:Object,required:!1,default:function(){return{legend:{display:!1},maintainAspectRatio:!1,spanGaps:!1,elements:{line:{tension:1e-6}},plugins:{filler:{propagate:!1}},tooltips:{callbacks:{}},scales:{xAxes:[{type:"time",ticks:{autoSkip:!1,maxRotation:0}}]}}}}},mounted:function(){null!==this.labelCallback&&"function"===typeof this.labelCallback&&(this.chartOptions.tooltips.callbacks={label:this.labelCallback}),this.renderChart(this.chartData,this.chartOptions)},watch:{chartData:function(){this.renderChart(this.chartData,this.chartOptions)}}},He=Je,We=Object(v["a"])(He,K,Q,!1,null,null,null),Ye=We.exports,Ve={components:{LineChart:Ye},props:{title:{type:String,required:!0},chartEndpoint:{type:String,required:!0},isIndependent:{type:Boolean,default:!0,required:!1},date:{required:!1}},data:function(){var t=new Date;return t.setHours(0,0,0),{isLoading:!1,isLoaded:!1,chartData:null,labelCallback:null,quickDate:"P1M",search:{currentDate:t,periodStart:this.$moment(t).subtract(this.$moment.duration(this.quickDate)).toDate(),periodEnd:t}}},methods:{applyFilter:function(){d.$emit("transactions-date-filtered",this.search),this.requestData()},requestData:function(){var t=this;this.isLoading=!0;var e={};this.$http.get(u.API_URL+this.chartEndpoint,e).then(function(e){var a=t;t.labelCallback=function(t,e){return e.datasets[t.datasetIndex].label+": "+a.$n(e.datasets[t.datasetIndex].data[t.index],"currency")},t.chartData={datasets:[{data:e.data.values.map(function(t){return t.debit}),label:t.$t("labels.debits"),backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgb(255, 99, 132)",pointBackgroundColor:"rgba(255, 99, 132, 0.8)"},{data:e.data.values.map(function(t){return t.credit}),label:t.$t("labels.credits"),backgroundColor:"rgba(66, 185, 131, 0.5)",borderColor:"rgb(66, 185, 131)",pointBackgroundColor:"rgba(66, 185, 131, 0.8)"}],labels:e.data.values.map(function(e){return t.$moment(e.date)})},t.search.periodStart=t.$moment(e.data.periodStart).toDate(),t.search.periodEnd=t.$moment(e.data.periodEnd).toDate(),t.isLoading=!1,t.isLoaded=!0},function(t){t.body.message?console.log(t.body.message):console.log(t.status+" - "+t.statusText)})}},watch:{quickDate:function(){this.quickDate&&d.$emit("transactions-date-filtered",{periodStart:this.$moment(this.search.currentDate).subtract(this.$moment.duration(this.quickDate)).toDate(),periodEnd:this.search.currentDate})}},mounted:function(){var t=this;d.$on("transactions-date-filtered",function(e){t.search.periodStart.getTime()===e.periodStart.getTime()&&t.search.periodEnd.getTime()===e.periodEnd.getTime()||(t.search.periodStart=e.periodStart,t.search.periodEnd=e.periodEnd,t.requestData())}),this.date&&(this.search.periodStart=this.date.periodStart,this.search.periodEnd=this.date.periodEnd),this.requestData()}},Xe=Ve,Ze=Object(v["a"])(Xe,ze,Fe,!1,null,null,null),Ke=Ze.exports,Qe={name:"home",components:{Breadcrumb:A,TransactionsDistributionChart:Re,TransactionsHistoryChart:Ke,Transactions:lt},data:function(){var t=new Date;return t.setHours(0,0,0),{categorySelected:{key:null},url:u.API_URL+"transactions{/id}",date:{periodStart:this.$moment(t).subtract(this.$moment.duration("P1M")).toDate(),periodEnd:t}}},mounted:function(){var t=this;d.$on("category-selected",function(e){t.categorySelected.key&&t.categorySelected.key===e.key||(t.categorySelected.key=null,t.$nextTick(function(){this.categorySelected=e}))}),d.$on("transactions-date-filtered",function(e){t.date.periodStart.getTime()===e.periodStart.getTime()&&t.date.periodEnd.getTime()===e.periodEnd.getTime()||(t.date.periodStart=e.periodStart,t.date.periodEnd=e.periodEnd)})},beforeDestroy:function(){d.$off("category-selected"),d.$off("transactions-date-filtered")}},ta=Qe,ea=(a("8b71"),Object(v["a"])(ta,Le,Pe,!1,null,null,null)),aa=ea.exports,sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"}),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[t.steps.length?a("ul",{staticClass:"steps is-horizontal is-medium is-centered has-content-centered"},t._l(t.steps,function(e){return a("li",{key:e.label,staticClass:"steps-segment has-gaps",class:{"is-active":e.isActive}},[a("span",{staticClass:"steps-marker"},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fa",class:e.icon})])]),a("div",{staticClass:"steps-content"},[a("p",{staticClass:"heading"},[t._v(t._s(e.label))])])])}),0):a("div",{staticClass:"content has-text-grey has-text-centered"},[t._v(t._s(t.$t("labels.nothingToDo")))]),t.steps.length>0?a("form",{staticClass:"section is-max-width-form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[t.steps[t.currentStep].help?a("div",{staticClass:"content has-text-grey has-text-centered",domProps:{innerHTML:t._s(t.steps[t.currentStep].help)}}):t._e(),t._l(t.steps[t.currentStep].fields,function(e){return a("div",{key:e.name,staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v(t._s(e.label))])]),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control has-icons-right"},["checkbox"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"field.value"},{name:"validate",rawName:"v-validate",value:e.validate,expression:"field.validate"}],staticClass:"input",class:{"is-danger":t.errors.has(e.name)},attrs:{name:e.name,placeholder:e.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(e.value)?t._i(e.value,null)>-1:e.value},on:{change:function(a){var s=e.value,i=a.target,r=!!i.checked;if(Array.isArray(s)){var n=null,o=t._i(s,n);i.checked?o<0&&t.$set(e,"value",s.concat([n])):o>-1&&t.$set(e,"value",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"value",r)}}}):"radio"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"field.value"},{name:"validate",rawName:"v-validate",value:e.validate,expression:"field.validate"}],staticClass:"input",class:{"is-danger":t.errors.has(e.name)},attrs:{name:e.name,placeholder:e.placeholder,type:"radio"},domProps:{checked:t._q(e.value,null)},on:{change:function(a){return t.$set(e,"value",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"field.value"},{name:"validate",rawName:"v-validate",value:e.validate,expression:"field.validate"}],staticClass:"input",class:{"is-danger":t.errors.has(e.name)},attrs:{name:e.name,placeholder:e.placeholder,type:e.type},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has(e.name),expression:"errors.has(field.name)"}],staticClass:"icon is-small is-right"},[a("i",{staticClass:"fa fa-exclamation-triangle"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has(e.name),expression:"errors.has(field.name)"}],staticClass:"help is-danger"},[t._v(t._s(t.errors.first(e.name)))])]),e.help?a("p",{staticClass:"help"},[t._v(t._s(e.help))]):t._e()])])])}),t.currentStep<t.steps.length-1?a("div",{staticClass:"has-text-centered"},[a("button",{staticClass:"button is-primary",attrs:{disabled:t.errors.any()}},[t._m(0),a("span",[t._v(t._s(t.$t("actions.next")))])])]):t._e()],2):t._e(),t.error?a("div",{staticClass:"is-centered columns"},[a("div",{staticClass:"column is-narrow"},[a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body"},[t._v("\n              "+t._s(t.error)+"\n            ")])])])]):t._e(),a("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])])},ia=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-arrow-circle-right"})])}],ra=(a("20d6"),{name:"setup",data:function(){return{currentStep:null,steps:[],error:"",isLoading:!1,rSteps:this.$resource(u.API_URL+"setup/steps{/code}"),rFields:this.$resource(u.API_URL+"setup/steps{/code}/fields")}},methods:{getSteps:function(){var t=this;this.isLoading=!0,this.rSteps.query().then(function(e){t.steps=e.body,t.setStep(t.steps.findIndex(function(t){return t.isActive}))},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})},setStep:function(t){(t<0||t>=this.steps.length)&&(t=0),this.steps.map(function(t){return t.isActive=!1,t}),this.steps.length&&(this.steps[t].isActive=!0),this.currentStep=t},validateBeforeSubmit:function(){var t=this;this.error="",this.$validator.validateAll().then(function(e){if(e){t.isLoading=!0;var a=t.steps[t.currentStep].code,s=t.steps[t.currentStep].fields.map(function(t){var e={};return e.name=t.name,e.value=t.value,e});t.rFields.update({code:a},s).then(function(e){t.currentStep++,t.setStep(t.currentStep)},function(e){e.body.message?t.error=e.body.message:t.error=e.status+" - "+e.statusText}).finally(function(){this.isLoading=!1})}})}},mounted:function(){this.getSteps()}}),na=ra,oa=Object(v["a"])(na,sa,ia,!1,null,null,null),la=oa.exports,ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-head"},[a("breadcrumb",{attrs:{items:[{link:"/",icon:"fa-home",text:this.$t("labels.home")},{link:"/about",icon:"fa-info-circle",text:this.$t("labels.about"),isActive:!0}]}})],1),a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container box"},[a("h1",{staticClass:"title container"},[t._v(t._s(t.$t("labels.about")))]),a("p",{staticClass:"subtitle has-text-grey"},[t._v("Own my money")]),t.isLoaded?a("div",{staticClass:"content field is-grouped is-grouped-multiline"},[a("div",{staticClass:"control"},[a("div",{staticClass:"tags has-addons"},[a("span",{staticClass:"tag is-dark"},[t._v("Installed version")]),a("span",{staticClass:"tag",class:[t.isUpToDate?"is-success":"is-danger"]},[t._v(t._s(t.version.installed))])])]),t.isUpToDate?t._e():a("div",{staticClass:"control"},[a("div",{staticClass:"tags has-addons"},[a("span",{staticClass:"tag is-dark"},[t._v("Latest version")]),a("span",{staticClass:"tag is-info"},[t._v(t._s(t.version.latest))])])]),t._m(0)]):t._e(),!t.isUpToDate&&this.user.scope.admin?a("section",{staticClass:"content"},[a("button",{staticClass:"button is-primary",class:{"is-loading":t.isUpdating},attrs:{disabled:t.isUpdating},on:{click:t.update}},[t._m(1),a("span",[t._v(t._s(t.$t("actions.updateTo"))+" "+t._s(t.version.latest))])]),t.updateLogs?a("pre",{staticClass:"section content"},t._l(t.updateLogs,function(e){return a("span",{staticClass:"is-block"},[t._v(t._s(t._f("moment")(e.timestamp,"HH:mm:ss"))+"   "+t._s(e.message))])}),0):t._e()]):t._e(),a("section",{staticClass:"content",domProps:{innerHTML:t._s(t.$t("labels.aboutText"))}})])])])},da=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"control"},[a("a",{attrs:{href:"https://github.com/nioc/own-my-money/releases/latest",target:"_blank"}},[t._v("Changelog")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-wrench"})])}],ua={name:"about",components:{Breadcrumb:A},data:function(){return{version:{installed:"",latest:""},isUpToDate:!0,user:m.getProfile(),updateLogs:null,isLoaded:!1,isUpdating:!1,rVersions:this.$resource(u.API_URL+"setup/versions/latest")}},methods:{get:function(){var t=this;this.rVersions.query().then(function(e){t.version=e.body,t.version.installed!==t.version.latest&&(t.isUpToDate=!1)},function(t){t.body.message?console.log(t.body.message):console.log(t.status+" - "+t.statusText)}).finally(function(){this.isLoaded=!0})},update:function(){var t=this;this.updateLogs="",this.isUpdating=!0,this.rVersions.save().then(function(e){t.updateLogs=e.body,t.get()},function(e){e.body.message?t.updateLogs=e.body.message:console.log(e.status+" - "+e.statusText)}).finally(function(){this.isUpdating=!1})}},mounted:function(){this.get()}},ma=ua,pa=Object(v["a"])(ma,ca,da,!1,null,null,null),ha=pa.exports;s["default"].use(g["a"]);var va=new g["a"]({routes:[{path:"/",name:"home",component:aa,meta:{title:"Home"}},{path:"/setup",name:"setup",component:la,meta:{title:"Setup server"}},{path:"/about",name:"about",component:ha,meta:{title:"About"}},{path:"/accounts",name:"accounts",component:M,meta:{title:"Accounts"}},{path:"/accounts/:id",name:"account",component:mt,meta:{title:"Account :id"}},{path:"/login",name:"login",component:gt,meta:{title:"Login"}},{path:"/profile",name:"profile",component:Tt,meta:{title:"Profile"}},{path:"/patterns",name:"patterns",component:Gt,meta:{title:"Patterns"}},{path:"/users",name:"users",component:ae,meta:{title:"Manage users"}},{path:"/maps",name:"maps",component:_e,meta:{title:"Edit maps"}},{path:"/maps/new",name:"newMap",component:Ie,props:{isNew:!0},meta:{title:"Edit map :code"}},{path:"/maps/:code",name:"map",component:Ie,props:{isNew:!1},meta:{title:"Edit map :code"}},{path:"/categories",name:"categories",component:ve,meta:{title:"Edit categories and subcategories"}},{path:"/categories/:id",name:"category",component:ue,props:{isCategory:!0},meta:{title:"Edit categorie :id"}},{path:"/categories/:pid/subcategories/:id",name:"subcategory",component:ue,props:{isCategory:!1},meta:{title:"Edit subcategorie :id"}}]}),fa=a("a925"),ba={en:{fieldnames:{login:"Login",password:"Password",newPassword:"New password",email:"Email address",amount:"Amount",date:"Date",bankIdentifier:"Bank identifier",branchIdentifier:"Branch identifier",accountIdentifier:"Account identifier",code:"Code",label:"Label",note:"Note",memo:"Memo",dateFormat:"Date format",datePosted:"Date posted",dateUser:"Date user",transactionId:"Transaction id",status:"Status",parent:"Parent",icon:"Icon",isBudgeted:"Budgeted",ipAddress:"IP address",userAgent:"User agent",admin:"Admin",balance:"Balance",updated:"Updated"},actions:{login:"Login",edit:"Edit",save:"Save",create:"Create",update:"Update",cancel:"Cancel",delete:"Delete",apply:"Apply",refresh:"Refresh",selectAll:"Select all",clear:"Clear",next:"Next",addCategory:"Add a category",addSubcategory:"Add a subcategory",editCategory:"Edit category",addPattern:"Add pattern",suggestPatterns:"Suggest patterns",deletePattern:"Delete pattern",addMap:"Add a map",addUser:"Add user",deleteMap:"Delete mapping",addAccount:"Add account",deleteAccount:"Delete account",uploadOfxJson:"Upload OFX/JSON",uploadOfx:"Upload OFX",updateTo:"Update to"},labels:{login:"Access to your OwnMyMoney account",home:"Home",language:"Language",systemSettings:"System settings",profile:"Profile",about:"About",reportABug:"Report a bug",logout:"Logout",active:"Active",disabled:"Disabled",searchTransactions:"Search transactions",findATransaction:"Find a transaction",batchUpdates:"Batch updates",patternsLabel:"Automatic categorization",categoriesLabel:"Click to edit category or subcategory or add new one",mapsLabel:"Click to edit transaction mapping or add new one",mapLabel:"Edit transaction mapping",profileLabel:"Update your Money account",transactionsByDay:"Transaction history",incomeDistribution:"Income distribution",expenseDistribution:"Expense distribution",nothingToDisplay:"There is nothing to display",nothingToDo:"There is nothing to do",deleteAccount:"Delete account",deleteAccountMsg:"Are you sure you want to delete this account?<br>All transactions will be deleted too.",noAccount:"There is no account yet",fileTooBig:"File too big",mapMustBeSet:"Map must be set for uploading a JSON file",deleteMap:"Deleting mapping",deleteMapMsg:"Are you sure you want to delete this mapping?",deletePattern:"Deleting pattern",deletePatternMsg:"Are you sure you want to delete this pattern?",patternWildcardHelper:"Wildcard character * is allowed",for:"for",typeJsonAttribute:"Type the JSON attribute",isBudgeted:"Included in budget",isNotBudgeted:"Excluded from the budget",isBudgetedHelp:"Transactions from off-budget categories does not appear in charts",uncategorizedTransaction:"Uncategorized",debits:"Debits",credits:"Credits",aboutText:'<p>Own my money is a simple way to track your bank activity on any device connected to the web (pc, smartphone, tablet, ...).</p><p>If you have any issues or feature requests, please create an <a href="https://github.com/nioc/own-my-money/issues" target="_blank">issue</a>.</p><p>This project is licensed under the <a href="https://www.gnu.org/licenses/quick-guide-gplv3.html" target="_blank">GNU Affero General Public License v3.0</a>.</p>'},objects:{account:"Account | Accounts",category:"Category | Categories",subcategory:"Subcategory | Subcategories",transaction:"Transaction | Transactions",transactionsSelected:"No transaction selected | 1 transaction selected | {count} transactions selected",transactionMapping:"Transaction mapping",user:"User | Users",pattern:"Pattern | Patterns",occurence:"Occurence | Occurence | Occurences",lastDay:"Last day | Last {count} days",lastWeek:"Last week | Last {count} weeks",lastMonth:"Last month | Last {count} months",lastYear:"Last year | Last {count} years",byte:"1 byte | {count} bytes"}},fr:{fieldnames:{login:"Identifiant",password:"Password",newPassword:"Nouveau password",email:"Adresse email",amount:"Montant",date:"Date",bankIdentifier:"Établissement",branchIdentifier:"Guichet",accountIdentifier:"Numéro de compte",code:"Code",label:"Libellé",note:"Note",memo:"Mémo",dateFormat:"Format de date",datePosted:"Date de valeur",dateUser:"Date utilisateur",transactionId:"Id transaction",status:"Statut",parent:"Parent",icon:"Icône",isBudgeted:"Budgeté",ipAddress:"Adresse IP",userAgent:"User agent",admin:"Admin",balance:"Solde",updated:"Mise à jour"},actions:{login:"Connexion",edit:"Modifier",save:"Enregistrer",create:"Créer",update:"Mettre à jour",cancel:"Annuler",delete:"Supprimer",apply:"Appliquer",refresh:"Rafraîchir",selectAll:"Tout sélectionner",clear:"Vider",next:"Suivant",addCategory:"Ajouter une catégorie",addSubcategory:"Ajouter une sous-catégorie",editCategory:"Modifier une catégorie",addPattern:"Ajouter un modèle",suggestPatterns:"Suggérer des modèles",deletePattern:"Supprimer le modèle",addMap:"Ajouter une correspondance",addUser:"Ajouter un utilisateur",deleteMap:"Supprimer la correspondance",addAccount:"Ajouter un compte",deleteAccount:"Supprimer le compte",uploadOfxJson:"Téléverser OFX/JSON",uploadOfx:"Téléverser OFX",updateTo:"Mise à jour vers"},labels:{login:"Accéder à votre compte OwnMyMoney",home:"Accueil",language:"Langue",systemSettings:"Paramètres système",profile:"Profil",about:"À propos",reportABug:"Signaler un bug",logout:"Déconnexion",active:"Actif",disabled:"Désactivé",searchTransactions:"Recherche de transactions",findATransaction:"Rechercher une transaction",batchUpdates:"Modification par lot",patternsLabel:"Classification automatique",categoriesLabel:"Cliquer pour éditer une catégorie ou sous-catégorie ou en créer une nouvelle",mapsLabel:"Cliquer pour editer une correspondance de transaction ou en créer une nouvelle",mapLabel:"Editer la correspondance de transaction",profileLabel:"Mise à jour de votre compte Money",transactionsByDay:"Historique des transactions",incomeDistribution:"Répartition des revenus",expenseDistribution:"Répartition des dépenses",nothingToDisplay:"Il n'y a rien à afficher",nothingToDo:"Il n'y a rien à faire",deleteAccount:"Supprimer le compte",deleteAccountMsg:"Etes vous sûr de vouloir supprimer ce compte ?<br>Toutes ses transactions seront supprimées également.",noAccount:"Il n'y a pas encore de compte",fileTooBig:"Le fichier est trop volumineux",mapMustBeSet:"La map doit être selectionnée pour envoyer un fichier JSON",deleteMap:"Supprimer la correspondance",deleteMapMsg:"Etes vous sûr de vouloir supprimer cette correspondance ?",deletePattern:"Supprimer le modèle",deletePatternMsg:"Etes vous sûr de vouloir supprimer ce modèle ?",patternWildcardHelper:"Le caractère joker * est autorisé",for:"pour",typeJsonAttribute:"Saisir l'attribut du fichier JSON",isBudgeted:"Inclus dans le budget",isNotBudgeted:"Hors budget",isBudgetedHelp:"Les transactions des catégories hors budget n'apparaissent pas dans les graphiques",uncategorizedTransaction:"Non classé",debits:"Débits",credits:"Crédits",aboutText:'<p>Own my money est un outil pour suivre facilement votre activité bancaire depuis n\'importe quel équipement connecté à internet (pc, smartphone, tablette, ...).</p><p>En cas de problème ou pour toute suggestion, merci de créer un <a href="https://github.com/nioc/own-my-money/issues" target="_blank">ticket</a>.</p><p>Ce projet est sous la licence <a href="https://www.gnu.org/licenses/quick-guide-gplv3.html" target="_blank">GNU Affero General Public License v3.0</a>.</p>'},objects:{account:"Compte | Comptes",category:"Catégorie | Catégories",subcategory:"Sous-catégorie | Sous-catégories",transaction:"Transaction | Transactions",transactionsSelected:"Aucune transaction sélectionnée | 1 transaction sélectionnée | {count} transactions sélectionnées",transactionMapping:"Correspondance de transactions | Correspondances de transactions",user:"Utilisateur | Utilisateurs",pattern:"Modèle | Modèles",occurence:"Occurence | Occurence | Occurences",lastDay:"le jour dernier | Les {count} derniers jours",lastWeek:"La semaine dernière | Les {count} dernières semaines",lastMonth:"Le mois dernier | Les {count} derniers mois",lastYear:"L'année dernière | Les {count} dernières années",byte:"1 octet | {count} octets"}}},ga={"en-US":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}},"fr-FR":{short:{year:"numeric",month:"long",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"}}},ya={en:{currency:{style:"currency",currency:"GBP"}},"en-US":{currency:{style:"currency",currency:"USD"}},fr:{currency:{style:"currency",currency:"EUR"}}},Ca=a("2ead"),_a=a.n(Ca),wa=(a("9f26"),a("243b")),$a=a.n(wa),xa=a("8f76"),ka=a.n(xa),Aa=a("7bb1"),Ia=a("8a03"),La=a.n(Ia),Pa=(a("1f54"),a("2fc4"),a("59df"),a("55dd"),{install:function(t,e){function a(e){return t.moment().subtract(t.moment.duration(e)).format()}var s=[{id:1,type:"CREDIT",datePosted:a("P3D"),dateUser:a("P3D"),amount:342,name:"SUNSHINE AUTOS IMPORT GARAGE",fitid:"5387240011638",memo:"",category:3,subcategory:33,note:"Car selling"},{id:10,type:"DEBIT",datePosted:a("P4D"),dateUser:a("P4D"),amount:-60.5,name:"ARROW GASOLINE",fitid:"5387600307180",memo:"",category:1,subcategory:12,note:"Gasoil"},{id:2,type:"DEBIT",datePosted:a("P4D"),dateUser:a("P4D"),amount:-39.85,name:"LOS SANTOS CUSTOMS",fitid:"5387600307178",memo:"",category:1,subcategory:14,note:"Wheels"},{id:3,type:"DEBIT",datePosted:a("P5D"),dateUser:a("P5D"),amount:-17,name:"PIZZA THIS",fitid:"5387600307179",memo:"",category:2,subcategory:20,note:"Lunch with Trevor"},{id:5,type:"CREDIT",datePosted:a("P6D"),dateUser:a("P6D"),amount:300,name:"MERRYWEATHER SECURITY",fitid:"5387600307179",memo:"",category:3,subcategory:32,note:""},{id:9,type:"DEBIT",datePosted:a("P6D"),dateUser:a("P6D"),amount:-39.99,name:"MORS MUTUAL INSURANCE",fitid:"5387600307180",memo:"",category:1,subcategory:13,note:""},{id:6,type:"CREDIT",datePosted:a("P8D"),dateUser:a("P8D"),amount:200,name:"TRANSFER FROM L. CREST",fitid:"5387600307180",memo:"",category:3,subcategory:32,note:"Mission success"},{id:8,type:"DEBIT",datePosted:a("P8D"),dateUser:a("P8D"),amount:-99,name:"VANILLA UNICORN",fitid:"5387600307179",memo:"",category:2,subcategory:null,note:""},{id:4,type:"DEBIT",datePosted:a("P15D"),dateUser:a("P15D"),amount:-28.5,name:"PONSONBY",fitid:"5387600307180",memo:"",category:5,subcategory:51,note:"hats"},{id:9,type:"DEBIT",datePosted:a("P18D"),dateUser:a("P18D"),amount:-60.5,name:"ARROW GASOLINE",fitid:"5387600307180",memo:"",category:1,subcategory:12,note:"Gasoil"},{id:7,type:"DEBIT",datePosted:a("P20D"),dateUser:a("P20D"),amount:-250,name:"PEGASUS",fitid:"5387600307178",memo:"",category:1,subcategory:14,note:""},{id:9,type:"DEBIT",datePosted:a("P21D"),dateUser:a("P21D"),amount:-60.5,name:"O SHEAS BARBERS SHOP",fitid:"5387600307181",memo:"",category:5,subcategory:null,note:""},{id:9,type:"CREDIT",datePosted:a("P22D"),dateUser:a("P22D"),amount:210,name:"SUNSHINE AUTOS IMPORT GARAGE",fitid:"5387600307180",memo:"",category:3,subcategory:33,note:"Car selling"}];function i(t,e){return t.reduce(function(t,a){var s=a[e];return t[s]||(t[s]=[]),t[s].push(a),t},{})}var r=[];function n(e){var a=[],s=i(e,"datePosted");for(var r in s){var n=i(s[r],"type");a.push({date:t.moment(r).format("YYYY-MM-DD"),debit:"DEBIT"in n?n["DEBIT"].reduce(function(t,e){return t+e.amount},0):0,credit:"CREDIT"in n?n["CREDIT"].reduce(function(t,e){return t+e.amount},0):0})}var o=t.moment().subtract(t.moment.duration("P1M")),l=t.moment(),c=o,d=a.length;while(c<=l){for(var u=!1,m=0;m<d;m++)if(a[m].date===c.format("YYYY-MM-DD")){u=!0;break}u||a.push({date:t.moment(c).format("YYYY-MM-DD"),debit:0,credit:0}),c.add(1,"days")}return a.sort(function(e,a){return t.moment(e.date)-t.moment(a.date)}),a}for(var o=n(s),l=i(s,"type"),c=i(l["DEBIT"],"category"),d=i(l["CREDIT"],"category"),m=[],p=[],h=[],v=[],f=i(s,"category"),b=1;b<6;b++)h[b]=[],v[b]=[],r[b]=[],f[b]&&(r[b]=n(f[b]));for(var g in c){m.push({key:g,amount:Math.abs(c[g].reduce(function(t,e){return t+e.amount},0))});var y=i(c[g],"subcategory");for(var C in y)h[g].push({key:C,amount:Math.abs(y[C].reduce(function(t,e){return t+e.amount},0))})}for(var _ in d){p.push({key:_,amount:Math.abs(d[_].reduce(function(t,e){return t+e.amount},0))});var w=i(d[_],"subcategory");for(var $ in w)v[_].push({key:$,amount:Math.abs(w[$].reduce(function(t,e){return t+e.amount},0))})}var x=[{method:"POST",url:"users/tokens",response:{token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJtb25leSIsImV4cCI6MTc2MzEwNDEwMCwic3ViIjoxLCJsb2dpbiI6Ik1pY2hhZWwiLCJzdGF0dXMiOnRydWUsIm1haWwiOiJtQGV5ZWZpbmQuaW5mbyIsInNjb3BlIjoidXNlciBhZG1pbiJ9.SN3ucVwQTuRwqThqW092Yz8z0cVYoGWLrK8AzMo7nfE"}},{method:"GET",url:"users",response:[{sub:1,login:"Michael",status:!0,mail:"m@eyefind.info",scope:"user admin"},{sub:2,login:"Trevor",status:!1,mail:"tpi@eyefind.info",scope:"user"},{sub:3,login:"Franklin",status:!0,mail:"frankie@eyefind.info",scope:"user"}]},{method:"PUT",url:"users/1",response:{sub:1,login:"Michael",status:!0,mail:"m@eyefind.info",scope:"user admin"}},{method:"PUT",url:"users/2",response:{sub:1,login:"Trevor",status:!1,mail:"tpi@eyefind.info",scope:"user"}},{method:"PUT",url:"users/3",response:{sub:1,login:"Franklin",status:!0,mail:"frankie@eyefind.info",scope:"user"}},{method:"GET",url:"users/1/tokens",response:[{creation:a("P1D"),ip:"10.0.0.2",userAgent:"Mozilla/5.0 (X11; Linux x86_64; rv:63.0) Gecko/20100101 Firefox/63.0"},{creation:a("PT41242M"),ip:"10.0.0.13",userAgent:"Mozilla/5.0 (Android 8.0.0; Mobile; rv:63.0) Gecko/63.0 Firefox/63.0"},{creation:a("PT1044887S"),ip:"10.0.0.14",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53"}]},{method:"GET",url:"transactions",response:s},{method:"GET",url:"transactions/history",response:{values:o,periodStart:a("P1M"),periodEnd:a("PT1S")}},{method:"GET",url:"transactions/distribution/credit/categories",response:{values:p,periodStart:t.moment().subtract(t.moment.duration("P1M")),periodEnd:t.moment(),type:"credit",key:"categories"}},{method:"GET",url:"transactions/distribution/debit/categories",response:{values:m,periodStart:t.moment().subtract(t.moment.duration("P1M")),periodEnd:t.moment(),type:"debit",key:"categories"}},{method:"GET",url:"transactions/distribution/credit/subcategories?value=1",response:{values:v[1],periodStart:t.moment().subtract(t.moment.duration("P1M")),periodEnd:t.moment(),type:"credit",key:"subcategories"}},{method:"GET",url:"transactions/distribution/debit/subcategories?value=1",response:{values:h[1],periodStart:t.moment().subtract(t.moment.duration("P1M")),periodEnd:t.moment(),type:"debit",key:"subcategories"}},{method:"GET",url:"transactions/history?category=1",response:{values:r[1],periodStart:a("P1M"),periodEnd:a("PT1S")}},{method:"GET",url:"transactions/distribution/credit/subcategories?value=2",response:{values:v[2],periodStart:t.moment().subtract(t.moment.duration("P1M")),periodEnd:t.moment(),type:"credit",key:"subcategories"}},{method:"GET",url:"transactions/distribution/debit/subcategories?value=2",response:{values:h[2],periodStart:t.moment().subtract(t.moment.duration("P1M")),periodEnd:t.moment(),type:"debit",key:"subcategories"}},{method:"GET",url:"transactions/history?category=2",response:{values:r[2],periodStart:a("P1M"),periodEnd:a("PT1S")}},{method:"GET",url:"transactions/distribution/credit/subcategories?value=3",response:{values:v[3],periodStart:t.moment().subtract(t.moment.duration("P1M")),periodEnd:t.moment(),type:"credit",key:"subcategories"}},{method:"GET",url:"transactions/distribution/debit/subcategories?value=3",response:{values:h[3],periodStart:t.moment().subtract(t.moment.duration("P1M")),periodEnd:t.moment(),type:"debit",key:"subcategories"}},{method:"GET",url:"transactions/history?category=3",response:{values:r[3],periodStart:a("P1M"),periodEnd:a("PT1S")}},{method:"GET",url:"transactions/distribution/credit/subcategories?value=5",response:{values:v[5],periodStart:t.moment().subtract(t.moment.duration("P1M")),periodEnd:t.moment(),type:"credit",key:"subcategories"}},{method:"GET",url:"transactions/distribution/debit/subcategories?value=5",response:{values:h[5],periodStart:t.moment().subtract(t.moment.duration("P1M")),periodEnd:t.moment(),type:"debit",key:"subcategories"}},{method:"GET",url:"transactions/history?category=5",response:{values:r[5],periodStart:a("P1M"),periodEnd:a("PT1S")}},{method:"GET",url:"accounts",response:[{id:1,user:"1",bankId:"14000",branchId:"00170",accountId:"02437797004",label:"Maze Bank",balance:1635,lastUpdate:a("PT4H")}]},{method:"GET",url:"accounts/1",response:{id:1,user:"1",bankId:"14000",branchId:"00170",accountId:"02437797004",label:"Maze Bank",balance:1635,lastUpdate:a("PT4H")}},{method:"GET",url:"accounts/1/transactions",response:s},{method:"GET",url:"setup/versions/latest",response:{installed:"0.5.1",latest:"0.5.1"}},{method:"GET",url:"categories",response:[{id:1,label:"Transports",status:!0,icon:"fa-train",sub:[{id:11,label:"Public transports",status:!0,icon:null,parentId:1},{id:12,label:"Fuels",status:!0,icon:null,parentId:1},{id:13,label:"Insurance",status:!0,icon:null,parentId:1},{id:14,label:"Maintenance",status:!0,icon:null,parentId:1}]},{id:2,label:"Hobbies",status:!0,icon:"fa-beer",sub:[{id:20,label:"Restaurant",status:!0,icon:null,parentId:2},{id:21,label:"Drink",status:!0,icon:null,parentId:2}]},{id:3,label:"Income",status:!0,icon:"fa-briefcase",sub:[{id:31,label:"Wages",status:!0,icon:null,parentId:3},{id:32,label:"Reward",status:!0,icon:null,parentId:3},{id:33,label:"Sells",status:!0,icon:null,parentId:3},{id:34,label:"Gifts",status:!1,icon:null,parentId:3}]},{id:4,label:"Home",status:!0,icon:"fa-home",sub:[{id:41,label:"Insurance",status:!0,icon:null,parentId:4},{id:42,label:"Rent",status:!0,icon:null,parentId:4},{id:43,label:"Mortgage",status:!1,icon:null,parentId:4},{id:44,label:"Furnishing",status:!0,icon:null,parentId:4},{id:45,label:"Electricity",status:!0,icon:null,parentId:4},{id:46,label:"Water",status:!0,icon:null,parentId:4},{id:47,label:"Internet",status:!0,icon:null,parentId:4}]},{id:5,label:"Clothing",status:!0,icon:"fa-user-secret",sub:[{id:51,label:"Clothes",status:!0,icon:null,parentId:5},{id:52,label:"Shoes",status:!0,icon:null,parentId:5}]}]},{method:"GET",url:"patterns",response:[{id:1,label:"MORS MUTUAL INSURANCE",category:1,subcategory:13},{id:2,label:"LOS SANTOS CUSTOMS*",category:1,subcategory:13},{id:2,label:"PONSONBY*",category:5,subcategory:51}]}];t.http.interceptors.push(function(t){for(var e=t.getUrl(),a=x.length,s=!1,i={},r=0;r<a;r++)if(t.method===x[r].method&&e===u.API_URL+x[r].url){s=!0,i=x[r];break}return s?t.respondWith(i.response,{status:200}):t.respondWith({status:404,statusText:"Not found"})})}}),Sa=a("c1df");s["default"].config.productionTip=!1,s["default"].use(fa["a"]),s["default"].use(V["a"]);var ja=navigator.language,Ta=new fa["a"]({fallbackLocale:"en",locale:ja,messages:ba,dateTimeFormats:ga,numberFormats:ya});s["default"].http.headers.common["Accept-Language"]=ja,document.querySelector("html").setAttribute("lang",ja),s["default"].use(Aa["a"],{i18nRootKey:"validations",i18n:Ta,dictionary:{en:{messages:$a.a.messages,attributes:ba.en.fieldnames},fr:{messages:ka.a.messages,attributes:ba.fr.fieldnames}}}),s["default"].use(_a.a,{moment:Sa});var Da=s["default"].moment.localeData();s["default"].use(La.a,{defaultIconPack:"fa",defaultFirstDayOfWeek:Da.firstDayOfWeek(),defaultMonthNames:Da.months(),defaultDayNames:Da.weekdaysMin(),defaultDateFormatter:function(t){return s["default"].moment(t,"L").format("L")}}),s["default"].use(Pa),delete s["default"].http.headers.common["Authorization"];var Na=m.getAuthHeader();Na&&(s["default"].http.headers.common["Authorization"]=Na),va.beforeEach(function(t,e,a){if(m.getToken(),!m.user.authenticated&&"login"!==t.name&&"setup"!==t.name)return m.logout(),d.$emit("user-logged",{}),void a("/login?redirect="+t.fullPath);if(t.meta.title){var s=t.meta.title,i=t.params;for(var r in i)s=s.replace(":"+r,i[r]);document.title=s+" | OwnMyMoney"}var n=document.getElementById("navbar-burger");n&&(n.classList.remove("is-active"),document.getElementById("navbar-menu").classList.remove("is-active")),a()}),s["default"].http.interceptors.push(function(t,e){e(function(t){return 401===t.status&&-1===va.currentRoute.fullPath.search(/^\/login/)&&(m.logout(),d.$emit("user-logged",{}),va.replace({name:"login",query:{redirect:va.currentRoute.fullPath}})),t})}),new s["default"]({router:va,i18n:Ta,render:function(t){return t(b)}}).$mount("#money")},6062:function(t,e,a){},"8b71":function(t,e,a){"use strict";var s=a("e3a2"),i=a.n(s);i.a},d803:function(t,e,a){t.exports=a.p+"img/icon-whitesmoke.56bc37d4.svg"},e3a2:function(t,e,a){},f4de:function(t,e,a){}});
//# sourceMappingURL=app.8c112d30.js.map